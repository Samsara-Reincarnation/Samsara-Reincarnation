actor "   Revolver   " :  Weapon
{
  obituary "%o was shot by %k's revolver."
  attacksound "weapons/bloodpistol"
  weapon.selectionorder 1900
  weapon.bobstyle Smooth
  weapon.bobrangeX 0.2
  weapon.bobrangeY 0.4
  weapon.bobspeed 0.5
  weapon.kickback 100
  Weapon.AmmoUse 0
  Weapon.AmmoGive 0
  Weapon.AmmoType ""
  inventory.pickupsound "PICKWEAP"  
  Weapon.SlotNumber 1  
  +NOALERT  
  +WEAPON.WIMPY_WEAPON
  Decal ZBloodBulletChip1  
  Inventory.RestrictedTo "Caleb"
  Tag "Revolver"
  states
  {
  Spawn:
	TNT1 A 1
	Stop
  Ready:
    TNT1 A 0 A_TakeInventory("UsingPitchfork", 1)  
	TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboReady")	
	TNT1 A 0 A_JumpIfInventory("CalebReady",1,"IntroTaunt")
    TNT1 A 0 A_JumpIfInventory("CalebWaiting",525,"WaitingTaunt")	
    ZBP7 A 1 A_WeaponReady
    Goto Ready+1
  AkimboReady:
	TNT1 A 0 A_JumpIfInventory("CalebReady",1,"IntroTaunt")
    TNT1 A 0 A_JumpIfInventory("CalebWaiting",525,"WaitingTaunt")	
    ZBP7 G 1 A_WeaponReady
	Goto Ready
  Deselect:
	TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboDeselect")  
  DeselectLoop:	
    ZBP7 AA 0 A_Lower  
    ZBP7 A 1 A_Lower
    loop
  AkimboDeselect:
    ZBP7 GG 0 A_Lower  
    ZBP7 G 1 A_Lower
    loop  
  Select:
	TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboSelect")  
  SelectLoop:	
    ZBP7 AA 0 A_Raise  
    ZBP7 A 1 A_Raise
    loop
  AkimboSelect:
    ZBP7 GG 0 A_Raise  
    ZBP7 G 1 A_Raise
    loop  
  Fire:
	TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboFire")  
    TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"CheckForAmmo")
  KeepFiring1:	
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"CoopFire")  
    TNT1 A 0 A_AlertMonsters 
    ZBP7 A 0 A_GunFlash
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
    ZBP7 D 3 bright A_WeaponReady(14)
    ZBP7 EF 2 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 4 A_WeaponReady(14)
    Goto Ready
  AkimboFire:
	TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"TakeAmmoCheckAkimbo")
  Goto KeepFiringAkimbo	
  KeepFiringAkimbo:	  
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"AkimboCoopFire")  
    TNT1 A 0 A_AlertMonsters 
    ZBP7 A 0 A_GunFlash
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
    ZBP7 D 2 bright A_WeaponReady(14)
    ZBP7 EF 1 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 3 A_WeaponReady(14)
	TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"AkimboSecondFire")
  Goto KeepFiringAkimbo2		
  KeepFiringAkimbo2:	  	
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuff", FBF_NORANDOM|FBF_USEAMMO)
	ZBP7 L 2 bright A_WeaponReady(14)	
	ZBP7 MN 1 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 3 A_WeaponReady(14)
    Goto Ready
  AkimboCoopFire:
    TNT1 A 0 A_AlertMonsters 
	TNT1 A 0 A_PlayWeaponSound("weapons/bloodpistol")	
    ZBP7 A 0 A_GunFlash
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
    ZBP7 D 2 bright A_WeaponReady(14)
    ZBP7 EF 1 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 3 A_WeaponReady(14)
	TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"AkimboSecondFire_2")
  Goto KeepFiringAkimbo2_2	
  KeepFiringAkimbo2_2:	  		
	TNT1 A 0 A_PlayWeaponSound("weapons/bloodpistol")	
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
	ZBP7 L 2 bright A_WeaponReady(14)
	ZBP7 MN 1 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 3 A_WeaponReady(14)
    Goto Ready   
  CoopFire:
    TNT1 A 0 A_AlertMonsters  
	TNT1 A 0 A_PlayWeaponSound("weapons/bloodpistol")
	ZBP7 A 0 A_GunFlash
	TNT1 A 0 A_FireBullets (5, 5, 1, 12,"ZBBulletPuffCoop", FBF_NORANDOM|FBF_USEAMMO)
    ZBP7 D 3 Bright A_WeaponReady(14)
    ZBP7 EF 2 bright A_WeaponReady(14)
	TNT1 A 2 A_WeaponReady(14)
	TNT1 A 4 A_WeaponReady(14)
    Goto Ready
  Flash:
	TNT1 A 0 A_JumpIfInventory("GunsAkimboP", 1, "AkimboFlash")  
	TNT1 A 0 A_Light2
    ZBP7 A 3 bright A_WeaponReady(14)
	TNT1 A 0 A_Light1	
    ZBP7 B 3 bright A_WeaponReady(14)
	TNT1 A 0 A_Light0	
	ZBP7 CBA 3 bright A_WeaponReady(14)
    stop
  AkimboFlash:
 	TNT1 A 0 A_Light2 
    ZBP7 G 2 bright A_WeaponReady(14)
	TNT1 A 0 A_Light1	
    ZBP7 H 2 bright A_WeaponReady(14)
	TNT1 A 0 A_Light0	
	ZBP7 IHG 2 bright A_WeaponReady(14)
	TNT1 A 0 A_JumpIfInventory("PistolModeOn",1,"ForceThisCheck")
  KeepFlashing:
	TNT1 A 0 A_Light2  
	ZBP7 G 2 bright A_WeaponReady(14)
	TNT1 A 0 A_Light1	
	ZBP7 J 2 bright A_WeaponReady(14)	
	TNT1 A 0 A_Light0
	ZBP7 KJG 2 bright A_WeaponReady(14)
	stop
  IntroTaunt:
	TNT1 A 0 A_JumpIfInventory("CalebBallgag",1,2)
	TNT1 A 0 A_PlaySoundEx("Caleb/Enter", "SoundSlot7", 0, 0)
	TNT1 A 0 A_TakeInventory("CalebReady", 1)
	TNT1 A 0 A_GiveInventory("CalebTauntCooldown",5)
	TNT1 A 0 ACS_NamedExecuteAlways("CalebTauntCooldown", 0)
	Goto Ready	
  WaitingTaunt:
	TNT1 A 0 A_JumpIfInventory("CalebBallgag",1,2)
	TNT1 A 0 A_PlaySoundEx("Caleb/Bored", "SoundSlot7", 0, 0)
	TNT1 A 0 A_TakeInventory("CalebWaiting", 525)
	TNT1 A 0 A_GiveInventory("CalebTauntCooldown",5)
	TNT1 A 0 ACS_NamedExecuteAlways("CalebTauntCooldown", 0)
	Goto Ready	
  CheckForAmmo:
	TNT1 A 0 A_JumpIfInventory("Clip",1,2)
	TNT1 A 0 A_SelectWeapon("Pitchfork")
	goto Deselect
	TNT1 A 0 A_TakeInventory("Clip",1)
	Goto KeepFiring1	
  TakeAmmoCheckAkimbo:	
	TNT1 A 0 A_JumpIfInventory("Clip",1,2)
	TNT1 A 0 A_SelectWeapon("Pitchfork")
	goto Deselect
	TNT1 A 0 A_TakeInventory("Clip",1)
	Goto KeepFiringAkimbo
  AkimboSecondFire:	
	TNT1 A 0 A_JumpIfInventory("Clip",1,2)
	TNT1 A 0 A_SelectWeapon("Pitchfork")
	goto Deselect
	TNT1 A 0 A_TakeInventory("Clip",1)
    Goto KeepFiringAkimbo2
  ForceThisCheck:
	TNT1 A 0 A_JumpIfNoAmmo("LightDone")
	Goto KeepFlashing
  AkimboSecondFire_2:	
	TNT1 A 0 A_JumpIfInventory("Clip",1,2)
	TNT1 A 0 A_SelectWeapon("Pitchfork")
	goto Deselect
	TNT1 A 0 A_TakeInventory("Clip",1)
    Goto KeepFiringAkimbo2_2	
  }
}

actor ZBBullet2 : FastProjectile
{
    Damage (12)
    Radius 1
    Height 1
    Speed 300
    Projectile
    DamageType "CalebBullet"
    Renderstyle "Normal"
	Species "Player"
    +BLOODSPLATTER
    +NOTIMEFREEZE
	+THRUSPECIES
	+SKYEXPLODE
    Alpha 1.0
    Decal ZBloodBulletChip1
    States
    {
      Spawn:
        TNT1 A 1
        loop
	  Crash:		
      Death:
	    TNT1 A 0 A_Jump(128,1)
    	TNT1 A 0 A_PlaySound("Shoot/BloodBullet")  
        TNT1 A 1 A_SpawnItemEx("ZBBulletPuff",0,0,0,0,0,1,0,0)
        stop
      XDeath:
        TNT1 A 1
        stop
    }
}