Actor " Arachnicator " : Weapon
{
  Weapon.SelectionOrder 2800
  Weapon.SlotNumber 1
  Weapon.SlotPriority 0
  Weapon.BobStyle Smooth
  Weapon.BobRangeX 0.55
  Weapon.BobRangeY 0.55
  Weapon.BobSpeed 1.2  
  Weapon.AmmoUse 1
  Weapon.AmmoGive 3
  Weapon.AmmoType "RocketAmmo"
  +NOALERT
  Inventory.PickupSound "EradAmmo/PUP"
  Inventory.PickupMessage "You got an Arachnicator!"
  Obituary "%k didn't know %o was arachnophobic."
  Inventory.RestrictedTo "Eleena"
  Tag "Arachnicator"
  States
  {
  Spawn:
    SPPU AB 3 Bright
    Loop
  Ready:
	TNT1 A 0 A_JumpIfInventory("EleenaReady",1,"IntroTaunt")
	TNT1 A 0 A_JumpIfNoAmmo("ReadyAmmoless")
    ESPM A 1 A_WeaponReady
    Loop
  ReadyAmmoLess:
	TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,"Reload")
    TNT1 A 1 A_WeaponReady
	Loop
  Deselect:
    TNT1 A 0 A_PlaySound("Erad/wepswitch")
	TNT1 A 0 A_JumpIfNoAmmo("DeselectAmmoless")	
	TNT1 A 0 A_Lower
    ESPM A 1 A_Lower
    Goto Deselect+1
  DeselectAmmoless:	
	TNT1 A 0 A_Lower
    TNT1 A 1 A_Lower
	Loop
  Select:
	TNT1 A 0 A_JumpIfNoAmmo("SelectAmmoless")
    TNT1 A 0 A_Raise
    ESPM A 1 A_Raise
    Loop
  SelectAmmoless:
    TNT1 A 0 A_Raise
    TNT1 A 1 A_Raise
	Loop
  Fire:
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"SpiderCoopFire")
	ESPM A 2 Bright offset(0,40)
	ESPM A 2 Bright offset(0,50)
	ESPM A 2 Bright offset(0,60)
	ESPM A 2 Bright offset(0,70)
	ESPM A 2 Bright offset(0,80)
    ESPM A 2 Bright offset(0,90)
	ESPM AA 2 Bright offset(0,150)
	TNT1 A 0 A_PlaySound("Eleena/SpiderReady", CHAN_WEAPON)
	TNT1 A 0 A_FireCustomMissile("SeekingSpider",0,1,0,0)
	TNT1 A 0 A_JumpIfNoAmmo("ReadyAmmoless")
  Reload:	
	ESPM A 1 Bright offset(0,100)
	ESPM A 1 Bright offset(0,90)
	ESPM A 1 Bright offset(0,80)
	ESPM A 1 Bright offset(0,70)
	ESPM A 1 Bright offset(0,60)
	ESPM A 1 Bright offset(0,50)
	ESPM A 1 Bright offset(0,40)
	ESPM A 1 Bright offset(0,32)
    Goto Ready
  SpiderCoopFire:
	ESPM A 2 Bright offset(0,40)
	ESPM A 2 Bright offset(0,50)
	ESPM A 2 Bright offset(0,60)
	ESPM A 2 Bright offset(0,70)
	ESPM A 2 Bright offset(0,80)
    ESPM A 2 Bright offset(0,90)
	ESPM AA 2 Bright offset(0,150)
	TNT1 A 0 A_PlaySound("Eleena/SpiderReady", CHAN_WEAPON)
	TNT1 A 0 A_FireCustomMissile("CoopSeekingSpider",0,1,0,0)
	TNT1 A 0 A_JumpIfNoAmmo("ReadyAmmoless")
    Goto Reload
  IntroTaunt:
    TNT1 A 0 A_JumpIfInventory("EleenaBallgag",1,2)
    TNT1 A 0 A_PlaySoundEx("Eleena/Enter", "SoundSlot7", 0, 0)
    TNT1 A 0 A_TakeInventory("EleenaReady", 1)
    TNT1 A 0 A_GiveInventory("EleenaTauntCooldown",5)
    TNT1 A 0 ACS_NamedExecuteAlways("EleenaTauntCooldown", 0)
	Goto Ready
  }
}

Actor SeekingSpider
{
  Height 5
  Radius 5
  Speed 18
  Damage (60)
  Scale 0.65
  PROJECTILE
  Damagetype "EradExplosive"
  ActiveSound "Eleena/SpiderWalk"
  Obituary "%k didn't know %o was arachnophobic."
  +FLOORHUGGER
  +STEPMISSILE
  +SEEKERMISSILE
  +THRUGHOST
  States
  {
  Spawn:
	TNT1 A 0
    TNT1 A 0 A_LoopActiveSound
	Goto SpawnLoop
  SpawnLoop:	
    SPMB ABCDE 2 A_SeekerMissile(90,90)
    Loop
  Death:
	TNT1 A 0 A_UnsetSolid
    TNT1 A 0 A_SpawnDebris("SpiderGib1")
    TNT1 A 0 A_SpawnDebris("SpiderGib2")
    TNT1 A 0 A_SpawnDebris("SpiderGib3")
    TNT1 A 0 A_SpawnDebris("SpiderGib4")
    TNT1 A 0 A_SpawnDebris("SpiderGib5")
    TNT1 A 0 A_PlaySound("Eleena/SpiderDie")
    TNT1 A 0 A_NoGravity
    GLBB A 2 bright A_Explode(175,55)
    GLBB BC 2 bright
    GLBB DEF 2 bright A_FadeOut
    Stop
	}
}

actor CoopSeekingSpider : SeekingSpider { Species "Player" +THRUSPECIES +DONTHARMCLASS +DONTHARMSPECIES +MTHRUSPECIES }

actor SpiderGib1
{
  Health 1
  Radius 1
  Height 1
  Speed 3
  Scale 0.65  
  Projectile
  -NOGRAVITY
  +WINDTHRUST
  +NOBLOCKMAP
  +NOBLOCKMONST
  +FLOORCLIP
  +CLIENTSIDEONLY
  +LOWGRAVITY
  +NOTELEPORT
  +DOOMBOUNCE
  +MOVEWITHSECTOR
  -SOLID
  -TELESTOMP
  Gravity 0.8
  States
  {
  Spawn:
    SPGB ABCDE 2
    Loop
  Death:
    SPGB E 1 A_FadeOut
    stop
  }
}

Actor SpiderGib2 : SpiderGib1
{
  States
  {
  Spawn:
    SPGB FGHIJ 2
    Loop
  Death:
    SPGB J 1 A_FadeOut
    stop
  }
}

Actor SpiderGib3 : SpiderGib1
{
  States
  {
  Spawn:
    SPGB KLMNO 2
    Loop
  Death:
    SPGB O 1 A_FadeOut
    stop
  }
}

Actor SpiderGib4 : SpiderGib1
{
  States
  {
  Spawn:
    SPGB PQRST 2
    Loop
  Death:
    SPGB T 1 A_FadeOut
    stop
  }
}

Actor SpiderGib5 : SpiderGib1
{
  States
  {
  Spawn:
    SPGB UVWXY 2
    Loop
  Death:
    SPGB Y 1 A_FadeOut
    stop
  }
}