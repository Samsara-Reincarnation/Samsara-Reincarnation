Actor " Plasma Ball " : Weapon
{
  Weapon.SelectionOrder 2500
  Weapon.SlotNumber 7
  Weapon.BobStyle Smooth
  Weapon.BobRangeX 0.55
  Weapon.BobRangeY 0.55
  Weapon.BobSpeed 1.2  
  Weapon.AmmoType "Cell"
  Weapon.AmmoGive 100
  Weapon.AmmoUse 50
  Inventory.PickupSound "EradAmmo/UPUP"
  -WEAPON.NOAUTOFIRE
  +WEAPON.NOAUTOAIM
  +NOALERT
  +FLOATBOB
  Inventory.PickupMessage "You got the Death Sphere!"
  Obituary "%o was vaporized by %k's big balls."
  Inventory.RestrictedTo "Eleena"
  Tag "Death Sphere"
  States
  {
  Ready:
    TNT1 A 0 A_JumpIfInventory("EleenaReady",1,"IntroTaunt")
    ELUB A 1 A_WeaponReady
    Loop
  Deselect:
    TNT1 A 0 A_PlaySound("Erad/wepswitch")
	TNT1 A 0 A_Lower
    ELUB A 1 A_Lower
    Goto Deselect+1
  Select:
    TNT1 A 0 A_Raise
    ELUB A 1 A_Raise
    Loop
  Fire:
    TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"EIBCoopFire")
    TNT1 A 0 A_AlertMonsters
    ELUB A 0 A_PlaySound("Eleena/BoltShootA", CHAN_WEAPON)
    ELUB A 26 A_GunFlash
    ELUB A 1 bright A_PlaySound("Eleena/BoltShoot2", CHAN_WEAPON)
    TNT1 A 0 A_FireCustomMissile("EradPlasmaBall")
//  ELUB A 1 Offset(2,33)
    ELUB A 1 bright Offset(6,37)
//  ELUB A 1 Offset(8,39)
    ELUB A 1 bright Offset(12,43)
    ELUB A 1 Offset(24,65)
    ELUB A 1 Offset(32,73)
    ELUB A 1 Offset(28,69)
    ELUB A 1 Offset(24,65)
    ELUB A 1 Offset(12,43)
    ELUB A 1 Offset(8,39)
    ELUB A 1 Offset(6,37)
    ELUB A 1 Offset(2,33)
    ELUB A 1 Offset(0,32)
    ELUB A 12
    goto Ready
  EIBCoopFire:
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_PlaySound("Eleena/BoltShootA", CHAN_WEAPON)
    ELUB A 26 A_GunFlash
    ELUB A 1 bright A_PlaySound("Eleena/BoltShoot2", CHAN_WEAPON)
    TNT1 A 0 A_FireCustomMissile("CoopEradPlasmaBall")
//  ELUB A 1 bright Offset(2,33)
    ELUB A 1 bright Offset(6,37)
//  ELUB A 1 Offset(8,39)
    ELUB A 1 Offset(12,43)
    ELUB A 1 Offset(24,65)
    ELUB A 1 Offset(32,73)
    ELUB A 1 Offset(28,69)
    ELUB A 1 Offset(24,65)
    ELUB A 1 Offset(12,43)
    ELUB A 1 Offset(8,39)
    ELUB A 1 Offset(6,37)
    ELUB A 1 Offset(2,33)
    ELUB A 1 Offset(0,32)
    ELUB A 12
    goto Ready
  AltFire:
	Goto Ready	
  Flash:
    ELUB BCDEF 4 bright
    ELUB FFFGHI 1 bright
    ELUB J 1 bright A_Light1
    ELUB K 1 bright A_Light2
    ELUB L 1 bright A_Light2
    TNT1 A 0 A_Light0
    stop
  Spawn:
    EPL9 TUVWX 5 Bright
    Loop
  IntroTaunt:
    TNT1 A 0 A_JumpIfInventory("EleenaBallgag",1,2)
    TNT1 A 0 A_PlaySoundEx("Eleena/Enter", "SoundSlot7", 0, 0)
    TNT1 A 0 A_TakeInventory("EleenaReady", 1)
    TNT1 A 0 A_GiveInventory("EleenaTauntCooldown",5)
    TNT1 A 0 ACS_NamedExecuteAlways("EleenaTauntCooldown", 0)
    Goto Ready
  }
}

Actor EradPlasmaBall
{
  Radius 8
  Height 6
  Speed 10
  Damage (0)  
  DamageType "EradNova"
  SCALE 0.65
//  +RIPPER
  +THRUACTORS
  -DONTRIP
  -TOUCHY
  +SEEKERMISSILE
  +STEPMISSILE
  +NOWALLBOUNCESND
  +CANBOUNCEWATER  
  +LOOKALLAROUND
  +EXTREMEDEATH
  +NODAMAGETHRUST  
  +BOUNCEONFLOORS
  +BOUNCEONWALLS
  +DONTREFLECT
  +BOUNCEONCEILINGS
  +FORCERADIUSDMG
  -EXPLODEONWATER
  PROJECTILE
  reactiontime 36
  bouncefactor 1.1
  Obituary "%o was vaporized by %k big balls."
  SeeSound ""
  ActiveSound "Eleena/EBuddy3"
  States
  {
  Spawn:
    EPL9 AAABBBCCCDDDEEEAAABBBCCCDDDEEE 1 BRIGHT
    TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SeekerMissile(90,90)
    TNT1 A 0 A_CountDown
    Goto SeekMe
  SeekMe:
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	EPL9 AAA 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 BBB 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 CCC 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)   
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 DDD 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 EEE 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	TNT1 A 0 A_CountDown
    Loop	
  Death:
	TNT1 A 0 A_Explode(600+Random(100,200)/Random(1, 2),211,0)
	TNT1 A 0 A_SpawnItemEx("EradPlasmaExplosion2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE)
	TNT1 A 5 A_PlaySound("Eleena/BigBoom")
    Stop
  }
}

actor EradElectricTrail
{
  Radius 1
  Height 1
  Speed 0
  RenderStyle Translucent
  Alpha 0.35
  +NOGRAVITY
  -SOLID
  +NOCLIP
  +RANDOMIZE
  +CLIENTSIDEONLY
  Scale 0.65
  States
  {
  Spawn:
	TNT1 AA 1
    BNFR A 1 bright
	TNT1 A 1
	BNFR B 1 bright
	TNT1 AA 1
	BNFR C 1 bright
	TNT1 AA 1
	BNFR D 1 bright
	TNT1 AA 1
	BNFR E 1 bright
	TNT1 AA 1
	BNFR F 1 bright
    stop
  }
}

actor CoopEradPlasmaBall : EradPlasmaBall
{
  Species "Player"
  Speed 15
  +THRUSPECIES
  +DONTHARMCLASS
  +DONTHARMSPECIES
  +MTHRUSPECIES
  reactiontime 40  
  States
  {
  Spawn:
    EPL9 AAABBBCCCDDDEEEAAABBBCCCDDDEEE 1 BRIGHT
    TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SeekerMissile(90,90)
    TNT1 A 0 A_CountDown
    Goto SeekMe
  SeekMe:
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	EPL9 AAA 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 BBB 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 CCC 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)   
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 DDD 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	EPL9 EEE 1 BRIGHT A_SpawnItemEx("EradElectricTrail",0,0,0,0,0,0,0,128,0)
	TNT1 A 0 A_Explode(CallACS("EleenaDeathBallDamageTier"),12, 0, false, 12)  
	TNT1 A 0 A_SeekerMissile(90,90,SMF_LOOK|SMF_PRECISE,256)
	TNT1 A 0 A_CountDown
    Loop	
  Death:
	TNT1 AA 0 A_Explode(284/Random(2,1),211,0)
	TNT1 A 0 A_Explode(284/Random(2,1),211,0)
	TNT1 A 0 A_SpawnItemEx("EradPlasmaExplosion2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_CLIENTSIDE)
	TNT1 A 5 A_PlaySound("Eleena/BigBoom")
    Stop
  }
}

Actor EradPlasmaExplosion1
{
  +NOINTERACTION
  +CLIENTSIDEONLY
  Scale 0.65
  states
  {
  Spawn:
    EEXP ABCDEFGH 3 BRIGHT
    EEXP I 2 Bright A_FadeOut
    Stop
  }
}

Actor EradPlasmaExplosion2 : EradPlasmaExplosion1
{
  Scale 1.5
  states
  {
  Spawn:
    EPL9 FGHI 4 Bright
    EPL9 J 4 Bright	A_Fadeout
    Stop
  }
}

Actor EradPlasmaExplosion3 : EradPlasmaExplosion1
{
  states
  {
  Spawn:
    EPL9 KLMNOPQR 3 Bright
    EPL9 S 2 Bright	A_Fadeout
    Stop
  }
}