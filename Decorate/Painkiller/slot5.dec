Actor Painkiller_RocketLauncher : PainkillerWeapon
{
	Weapon.SelectionOrder 500
	Weapon.SlotNumber 5
	Weapon.AmmoType1 "RocketAmmo"
	Weapon.AmmoUse1 1
	Weapon.AmmoGive1 5
	Weapon.AmmoType2 "Clip"
	Weapon.AmmoUse2 0
	Weapon.AmmoGive2 50
	Obituary "%o was blown up by %k's rocketlauncher."
	Inventory.Pickupmessage "Rocket Launcher"
	Inventory.PickupSound "Painkiller/RocketLauncher/Pickup"
	Tag "Rocket Launcher"
	States
	{
		Select:
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingShotgun",1)
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingStake",1)
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingRifle",1)
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingElectro",1)
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingBolt",1)
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingDemon",1)
			TNT1 A 0 A_GiveInventory("Painkiller_HoldingChaingun",1)
			Goto Super::Select
		Deselect:
			TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 1 A_Lower
			TNT1 A 0 A_TakeInventory("Painkiller_HoldingChaingun",1)
			Loop
		Ready:
			PK00 ABCDEFGHIJKLMN 10 A_WeaponReady
			Loop
		Fire:
			PK01 A 0 A_PlaySound("Painkiller/RocketLauncher/Fire",CHAN_WEAPON)
			PK01 A 3
			PK01 B 0 A_Quake(6,3,0,4,"")
			PK01 B 0 A_FireCustomMissile("Painkiller_RocketLauncherGrenade",0,1,10,2)
//			PK01 B 0 A_TakeInventory("Painkiller_GrenadeAmmo",1,TIF_NOTAKEINFINITE)
			PK01 B 0 A_GunFlash("Flash")
			PK01 BCDEFGHIJK 3
			Goto Ready
		AltFire:
			PK02 A 0 A_JumpIfInventory("Clip",1,1)
			Goto Ready
			PK02 A 0 A_PlaySound("Painkiller/Chaingun/RotorLoop1",CHAN_5,1.0,true)
			PK02 A 0 A_PlaySound("Painkiller/Chaingun/RotorLoop2",CHAN_6,1.0,true)
		AltHolding: //Messes with the intended design to use the built in hold states
			PK02 A 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 A 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 A 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 A 0 A_GunFlash("AltFlash1")
			PK02 A 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 A 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 A 0 A_Quake(3,2,0,4,"")
			PK02 A 2 Bright
			PK02 B 0 A_Refire(1)
			Goto AltStop
			PK02 B 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 B 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 B 0 A_GunFlash("AltFlash2")
			PK02 B 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 B 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 B 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 B 0 A_Quake(3,2,0,4,"")
			PK02 B 2 Bright
			PK02 C 0 A_Refire(1)
			Goto AltStop
			PK02 C 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 C 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 C 0 A_GunFlash("AltFlash3")
			PK02 C 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 C 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 C 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 C 0 A_Quake(3,2,0,4,"")
			PK02 C 2 Bright
			PK02 D 0 A_Refire(1)
			Goto AltStop
			PK02 D 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 D 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 D 0 A_GunFlash("AltFlash4")
			PK02 D 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 D 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 D 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 D 0 A_Quake(3,2,0,4,"")
			PK02 D 2 Bright
			PK02 E 0 A_Refire(1)
			Goto AltStop
			PK02 E 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 E 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 E 0 A_GunFlash("AltFlash5")
			PK02 E 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 E 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 E 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 E 0 A_Quake(3,2,0,4,"")
			PK02 E 2 Bright
			PK02 F 0 A_Refire(1)
			Goto AltStop
			PK02 F 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 F 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 F 0 A_GunFlash("AltFlash6")
			PK02 F 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 F 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 F 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 F 0 A_Quake(3,2,0,4,"")
			PK02 F 2 Bright
			PK02 G 0 A_Refire(1)
			Goto AltStop
			PK02 G 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 G 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 G 0 A_GunFlash("AltFlash7")
			PK02 G 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 G 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 G 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 G 0 A_Quake(3,2,0,4,"")
			PK02 G 2 Bright
			PK02 H 0 A_Refire(1)
			Goto AltStop
			PK02 H 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 H 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 H 0 A_GunFlash("AltFlash8")
			PK02 H 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 H 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 H 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 H 0 A_Quake(3,2,0,4,"")
			PK02 H 2 Bright
			PK02 I 0 A_Refire(1)
			Goto AltStop
			PK02 I 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 I 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 I 0 A_GunFlash("AltFlash9")
			PK02 I 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 I 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 I 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 I 0 A_Quake(3,2,0,4,"")
			PK02 I 2 Bright
			PK02 J 0 A_Refire(1)
			Goto AltStop
			PK02 J 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 J 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 J 0 A_GunFlash("AltFlash10")
			PK02 J 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 J 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 J 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 J 0 A_Quake(3,2,0,4,"")
			PK02 J 2 Bright
			PK02 K 0 A_Refire(1)
			Goto AltStop
			PK02 K 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 K 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 K 0 A_GunFlash("AltFlash11")
			PK02 K 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 K 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 K 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 K 0 A_Quake(3,2,0,4,"")
			PK02 K 2 Bright
			PK02 L 0 A_Refire(1)
			Goto AltStop
			PK02 L 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 L 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 L 0 A_GunFlash("AltFlash12")
			PK02 L 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 L 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 L 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 L 0 A_Quake(3,2,0,4,"")
			PK02 L 2 Bright
			PK02 M 0 A_Refire(1)
			Goto AltStop
			PK02 M 0 A_JumpIfInventory("Clip",1,1)
			Goto AltStop
			PK02 M 0 A_JumpIfInventory("Painkiller_Combo",1,"ComboHolding")
			PK02 M 0 A_GunFlash("AltFlash13")
			PK02 M 0 A_PlaySound("Painkiller/Chaingun/Fire",CHAN_WEAPON)
			PK02 M 0 A_FireBullets(0,0,1,12,"Painkiller_Chaingun_Puff",FBF_NORANDOM)
			PK02 M 0 A_TakeInventory("Clip",1,TIF_NOTAKEINFINITE)
			PK02 M 0 A_Quake(3,2,0,4,"")
			PK02 M 2 Bright
			PK02 A 0 A_Refire("AltHolding")
			Goto AltStop
		AltStop:
			PK03 A 0 A_StopSound(CHAN_5)
			PK03 A 0 A_StopSound(CHAN_6)
			PK03 A 0 A_PlaySound("Painkiller/Chaingun/RotorStop",CHAN_5)
			PK03 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 A_WeaponReady(WRF_NOSECONDARY)
			PK04 ABCD 2 A_WeaponReady(WRF_NOSECONDARY)
			PK04 E 0
			Goto Ready
		Flash:			PK18 A 0 A_Jump(256,"Flash1","Flash2","Flash3","Flash4","Flash5")
		Flash1:			PK18 A 1 Bright	A_RailWait 	Stop
		Flash2:			PK18 B 1 Bright	A_RailWait 	Stop
		Flash3:			PK18 C 1 Bright	A_RailWait 	Stop
		Flash4:			PK18 D 1 Bright	A_RailWait 	Stop
		Flash5:			PK18 E 1 Bright	A_RailWait 	Stop
		AltFlash1:		PK05 A 0 A_Jump(256,"AltFlash1_1","AltFlash1_2","AltFlash1_3","AltFlash1_4","AltFlash1_5")
		AltFlash1_1:	PK05 A 1 Bright	A_RailWait 	Stop
		AltFlash1_2:	PK05 B 1 Bright	A_RailWait 	Stop
		AltFlash1_3:	PK05 C 1 Bright	A_RailWait 	Stop
		AltFlash1_4:	PK05 D 1 Bright	A_RailWait 	Stop
		AltFlash1_5:	PK05 E 1 Bright	A_RailWait 	Stop
		AltFlash2:		PK06 A 0 A_Jump(256,"AltFlash2_1","AltFlash2_2","AltFlash2_3","AltFlash2_4","AltFlash2_5")
		AltFlash2_1:	PK06 A 1 Bright	A_RailWait 	Stop
		AltFlash2_2:	PK06 B 1 Bright	A_RailWait 	Stop
		AltFlash2_3:	PK06 C 1 Bright	A_RailWait 	Stop
		AltFlash2_4:	PK06 D 1 Bright	A_RailWait 	Stop
		AltFlash2_5:	PK06 E 1 Bright	A_RailWait 	Stop
		AltFlash3:		PK07 A 0 A_Jump(256,"AltFlash3_1","AltFlash3_2","AltFlash3_3","AltFlash3_4","AltFlash3_5")
		AltFlash3_1:	PK07 A 1 Bright	A_RailWait 	Stop
		AltFlash3_2:	PK07 B 1 Bright	A_RailWait 	Stop
		AltFlash3_3:	PK07 C 1 Bright	A_RailWait 	Stop
		AltFlash3_4:	PK07 D 1 Bright	A_RailWait 	Stop
		AltFlash3_5:	PK07 E 1 Bright	A_RailWait 	Stop
		AltFlash4:		PK08 A 0 A_Jump(256,"AltFlash4_1","AltFlash4_2","AltFlash4_3","AltFlash4_4","AltFlash4_5")
		AltFlash4_1:	PK08 A 1 Bright	A_RailWait 	Stop
		AltFlash4_2:	PK08 B 1 Bright	A_RailWait 	Stop
		AltFlash4_3:	PK08 C 1 Bright	A_RailWait 	Stop
		AltFlash4_4:	PK08 D 1 Bright	A_RailWait 	Stop
		AltFlash4_5:	PK08 E 1 Bright	A_RailWait 	Stop
		AltFlash5:		PK09 A 0 A_Jump(256,"AltFlash5_1","AltFlash5_2","AltFlash5_3","AltFlash5_4","AltFlash5_5")
		AltFlash5_1:	PK09 A 1 Bright	A_RailWait 	Stop
		AltFlash5_2:	PK09 B 1 Bright	A_RailWait 	Stop
		AltFlash5_3:	PK09 C 1 Bright	A_RailWait 	Stop
		AltFlash5_4:	PK09 D 1 Bright	A_RailWait 	Stop
		AltFlash5_5:	PK09 E 1 Bright	A_RailWait 	Stop
		AltFlash6:		PK10 A 0 A_Jump(256,"AltFlash6_1","AltFlash6_2","AltFlash6_3","AltFlash6_4","AltFlash6_5")
		AltFlash6_1:	PK10 A 1 Bright	A_RailWait 	Stop
		AltFlash6_2:	PK10 B 1 Bright	A_RailWait 	Stop
		AltFlash6_3:	PK10 C 1 Bright	A_RailWait 	Stop
		AltFlash6_4:	PK10 D 1 Bright	A_RailWait 	Stop
		AltFlash6_5:	PK10 E 1 Bright	A_RailWait 	Stop
		AltFlash7:		PK11 A 0 A_Jump(256,"AltFlash7_1","AltFlash7_2","AltFlash7_3","AltFlash7_4","AltFlash7_5")
		AltFlash7_1:	PK11 A 1 Bright	A_RailWait 	Stop
		AltFlash7_2:	PK11 B 1 Bright	A_RailWait 	Stop
		AltFlash7_3:	PK11 C 1 Bright	A_RailWait 	Stop
		AltFlash7_4:	PK11 D 1 Bright	A_RailWait 	Stop
		AltFlash7_5:	PK11 E 1 Bright	A_RailWait 	Stop
		AltFlash8:		PK12 A 0 A_Jump(256,"AltFlash8_1","AltFlash8_2","AltFlash8_3","AltFlash8_4","AltFlash8_5")
		AltFlash8_1:	PK12 A 1 Bright	A_RailWait 	Stop
		AltFlash8_2:	PK12 B 1 Bright	A_RailWait 	Stop
		AltFlash8_3:	PK12 C 1 Bright	A_RailWait 	Stop
		AltFlash8_4:	PK12 D 1 Bright	A_RailWait 	Stop
		AltFlash8_5:	PK12 E 1 Bright	A_RailWait 	Stop
		AltFlash9:		PK13 A 0 A_Jump(256,"AltFlash9_1","AltFlash9_2","AltFlash9_3","AltFlash9_4","AltFlash9_5")
		AltFlash9_1:	PK13 A 1 Bright	A_RailWait 	Stop
		AltFlash9_2:	PK13 B 1 Bright	A_RailWait 	Stop
		AltFlash9_3:	PK13 C 1 Bright	A_RailWait 	Stop
		AltFlash9_4:	PK13 D 1 Bright	A_RailWait 	Stop
		AltFlash9_5:	PK13 E 1 Bright	A_RailWait 	Stop
		AltFlash10:		PK14 A 0 A_Jump(256,"AltFlash10_1","AltFlash10_2","AltFlash10_3","AltFlash10_4","AltFlash10_5")
		AltFlash10_1:	PK14 A 1 Bright	A_RailWait 	Stop
		AltFlash10_2:	PK14 B 1 Bright	A_RailWait 	Stop
		AltFlash10_3:	PK14 C 1 Bright	A_RailWait 	Stop
		AltFlash10_4:	PK14 D 1 Bright	A_RailWait 	Stop
		AltFlash10_5:	PK14 E 1 Bright	A_RailWait 	Stop
		AltFlash11:		PK15 A 0 A_Jump(256,"AltFlash11_1","AltFlash11_2","AltFlash11_3","AltFlash11_4","AltFlash11_5")
		AltFlash11_1:	PK15 A 1 Bright	A_RailWait 	Stop
		AltFlash11_2:	PK15 B 1 Bright	A_RailWait 	Stop
		AltFlash11_3:	PK15 C 1 Bright	A_RailWait 	Stop
		AltFlash11_4:	PK15 D 1 Bright	A_RailWait 	Stop
		AltFlash11_5:	PK15 E 1 Bright	A_RailWait 	Stop
		AltFlash12:		PK16 A 0 A_Jump(256,"AltFlash12_1","AltFlash12_2","AltFlash12_3","AltFlash12_4","AltFlash12_5")
		AltFlash12_1:	PK16 A 1 Bright	A_RailWait 	Stop
		AltFlash12_2:	PK16 B 1 Bright	A_RailWait 	Stop
		AltFlash12_3:	PK16 C 1 Bright	A_RailWait 	Stop
		AltFlash12_4:	PK16 D 1 Bright	A_RailWait 	Stop
		AltFlash12_5:	PK16 E 1 Bright	A_RailWait 	Stop
		AltFlash13:		PK17 A 0 A_Jump(256,"AltFlash13_1","AltFlash13_2","AltFlash13_3","AltFlash13_4","AltFlash13_5")
		AltFlash13_1:	PK17 A 1 Bright	A_RailWait 	Stop
		AltFlash13_2:	PK17 B 1 Bright	A_RailWait 	Stop
		AltFlash13_3:	PK17 C 1 Bright	A_RailWait 	Stop
		AltFlash13_4:	PK17 D 1 Bright	A_RailWait 	Stop
		AltFlash13_5:	PK17 E 1 Bright	A_RailWait 	Stop
		ComboStart:
			PK02 A 0 A_StopSound(CHAN_6)
			PK02 A 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_6,1.0,true)
			PK02 A 0 A_JumpIfInventory("Clip",2,1)
			Goto Ready
		ComboHolding: //Messes with the intended design to use the built in hold states
			PK02 A 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 A 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 A 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 A 0 A_GunFlash("AltFlash1")
			PK02 A 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 A 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 A 0 A_Quake(4,2,0,4,"")
			PK02 A 2 Bright
			PK02 B 0 A_Refire(1)
			Goto AltStop
			PK02 B 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 B 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 B 0 A_GunFlash("AltFlash2")
			PK02 B 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 B 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 B 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 B 0 A_Quake(4,2,0,4,"")
			PK02 B 2 Bright
			PK02 C 0 A_Refire(1)
			Goto AltStop
			PK02 C 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 C 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 C 0 A_GunFlash("AltFlash3")
			PK02 C 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 C 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 C 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 C 0 A_Quake(4,2,0,4,"")
			PK02 C 2 Bright
			PK02 D 0 A_Refire(1)
			Goto AltStop
			PK02 D 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 D 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 D 0 A_GunFlash("AltFlash4")
			PK02 D 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 D 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 D 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 D 0 A_Quake(4,2,0,4,"")
			PK02 D 2 Bright
			PK02 E 0 A_Refire(1)
			Goto AltStop
			PK02 E 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 E 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 E 0 A_GunFlash("AltFlash5")
			PK02 E 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 E 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 E 0 A_TakeInventory("Clip",3,TIF_NOTAKEINFINITE)
			PK02 E 0 A_Quake(4,2,0,4,"")
			PK02 E 2 Bright
			PK02 F 0 A_Refire(1)
			Goto AltStop
			PK02 F 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 F 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 F 0 A_GunFlash("AltFlash6")
			PK02 F 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 F 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 F 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 F 0 A_Quake(4,2,0,4,"")
			PK02 F 2 Bright
			PK02 G 0 A_Refire(1)
			Goto AltStop
			PK02 G 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 G 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 G 0 A_GunFlash("AltFlash7")
			PK02 G 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 G 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 G 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 G 0 A_Quake(4,2,0,4,"")
			PK02 G 2 Bright
			PK02 H 0 A_Refire(1)
			Goto AltStop
			PK02 H 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 H 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 H 0 A_GunFlash("AltFlash8")
			PK02 H 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 H 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 H 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 H 0 A_Quake(4,2,0,4,"")
			PK02 H 2 Bright
			PK02 I 0 A_Refire(1)
			Goto AltStop
			PK02 I 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 I 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 I 0 A_GunFlash("AltFlash9")
			PK02 I 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 I 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 I 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 I 0 A_Quake(4,2,0,4,"")
			PK02 I 2 Bright
			PK02 J 0 A_Refire(1)
			Goto AltStop
			PK02 J 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 J 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 J 0 A_GunFlash("AltFlash10")
			PK02 J 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 J 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 J 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 J 0 A_Quake(4,2,0,4,"")
			PK02 J 2 Bright
			PK02 K 0 A_Refire(1)
			Goto AltStop
			PK02 K 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 K 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 K 0 A_GunFlash("AltFlash11")
			PK02 K 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 K 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 K 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 K 0 A_Quake(4,2,0,4,"")
			PK02 K 2 Bright
			PK02 L 0 A_Refire(1)
			Goto AltStop
			PK02 L 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 L 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 L 0 A_GunFlash("AltFlash12")
			PK02 L 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 L 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 L 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 L 0 A_Quake(4,2,0,4,"")
			PK02 L 2 Bright
			PK02 M 0 A_Refire(1)
			Goto AltStop
			PK02 M 0 A_JumpIfInventory("Clip",2,1)
			Goto AltStop
			PK02 M 0 A_JumpIfInventory("Painkiller_Combo",1,1)
			Goto AltFire
			PK02 M 0 A_GunFlash("AltFlash13")
			PK02 M 0 A_PlaySound("Painkiller/ChaingunCombo/Fire",CHAN_WEAPON)
			PK02 M 0 A_FireCustomMissile("Painkiller_ChaingunComboRound",frandom(-2.0,2.0),1,10,4,0,frandom(-2.0,2.0))
			PK02 M 0 A_TakeInventory("Clip",2,TIF_NOTAKEINFINITE)
			PK02 M 0 A_Quake(4,2,0,4,"")
			PK02 M 2 Bright
			PK02 A 0 A_Refire("ComboHolding")
			Goto AltStop
		Spawn:
			PK99 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("Painkiller_RocketLauncher_Icon",0,0,40)
			PK99 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("Painkiller_RocketLauncher_Icon2",0,0,40)
			Loop
	}
}

Actor Painkiller_RocketLauncher_Icon : Painkiller_Weapon_Icon
{
	States
	{
		Spawn:
			PK07 W 2
			Stop
	}
}

Actor Painkiller_RocketLauncher_Icon2 : Painkiller_Weapon_Icon
{
	States
	{
		Spawn:
			PK07 X 2
			Stop
	}
}

Actor Painkiller_RocketLauncherGrenade : PainkillerProjectile
{
	+NODAMAGETHRUST
	+THRUSPECIES
	+FORCERADIUSDMG
	-SKYEXPLODE
	//+THRUACTORS
	DamageType "PainkillerExplosive"
	Scale 10.0
	Speed 16
	Damage (180)
	Height 4
	Radius 2
	States
	{
		Spawn:
			PK00 A 0
			PK00 A 0 A_SetPitch(-CallACS("Painkiller_ShooterPitch")/182)
			Goto SpawnLoop
		SpawnLoop:
			PK00 A 0 A_SpawnItemEx("Painkiller_Smoke",-16,0,-4,0,0,0,0,SXF_NOCHECKPOSITION)
			PK00 A 0 A_SpawnItemEx("Painkiller_Smoke",0,0,-4,0,0,0,0,SXF_NOCHECKPOSITION)
			PK00 A 2 A_SpawnItemEx("Painkiller_Trail",-4,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
			Loop
		Death:
			PK00 B 0 A_PlaySound("Painkiller/RocketLauncher/Explode",CHAN_5)
			PK00 B 0 A_Blast(BF_NOIMPACTDAMAGE,damage/2,102,8,"Painkiller_NullEffect","silence")
			PK00 B 0 A_Explode(180,102)
			PK00 BBBBBBBBBBBBBBBB 0 A_SpawnItemEx("Painkiller_RocketSmoke",random(-16,16),random(-16,16),random(-16,48),random(-1,1),random(-1,1),3,0,SXF_NOCHECKPOSITION)
			PK00 BBBBBBBB 0 A_SpawnItemEx("Painkiller_RocketSmokeGray",random(-16,16),random(-16,16),random(0,16),random(-1,1),random(-1,1),3,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_GrenadeWhiteSmoke",0,0,0,0,0,3,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,-12,0,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,-12,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,0,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,0,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,-12,12,0,SXF_NOCHECKPOSITION)
			TNT1 A 2
			Stop
	}
}

Actor Painkiller_RocketLauncherGrenadeDM : Painkiller_RocketLauncherGrenade 
{
	Damage (50)
	States
	{
		Death:
			PK00 B 0 A_PlaySound("Painkiller/RocketLauncher/Explode",CHAN_5)
			PK00 B 0 A_Blast(BF_NOIMPACTDAMAGE,damage/2,102,8,"Painkiller_NullEffect","silence")
			PK00 B 0 A_Explode(120,102)
			PK00 BBBBBBBBBBBBBBBB 0 A_SpawnItemEx("Painkiller_RocketSmoke",random(-16,16),random(-16,16),random(-16,48),random(-1,1),random(-1,1),3,0,SXF_NOCHECKPOSITION)
			PK00 BBBBBBBB 0 A_SpawnItemEx("Painkiller_RocketSmokeGray",random(-16,16),random(-16,16),random(0,16),random(-1,1),random(-1,1),3,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_GrenadeWhiteSmoke",0,0,0,0,0,3,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,-12,0,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,-12,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,0,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,12,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,0,12,0,SXF_NOCHECKPOSITION)
			PK00 B 0 A_SpawnItemEx("Painkiller_RocketSmokeDart",0,0,0,12,-12,12,0,SXF_NOCHECKPOSITION)
			TNT1 A 2
			Stop	
			}
}			

Actor Painkiller_RocketSmokeGray
{
	Radius 2
	Height 4
	Renderstyle Translucent
	Scale 0.5
	Alpha 0.63
	+NOINTERACTION
	+NOTRIGGER
	+THRUACTORS
	States
	{
		Spawn:
			TNT1 A 0
			PK00 EEEEEEEEEEEEEEEE 3 A_Fadeout(0.05)
			Stop
	}
}

Actor Painkiller_RocketSmoke : Painkiller_Smoke
{
	Scale 0.8
	Renderstyle Add
	Alpha 1.0
	States
	{
		Spawn:
			TNT1 A 0
			PK00 OOOOO 1 Bright A_Fadeout(0.04)
			PK00 PPPPP 1 Bright A_Fadeout(0.04)
			PK00 QQQQQ 1 Bright A_Fadeout(0.04)
			PK00 RRRRR 1 Bright A_Fadeout(0.04)
			PK00 SSSSS 1 Bright A_Fadeout(0.04)
			Stop
	}
}

Actor Painkiller_RocketSmokeDart
{
	//Projectile
	Height 4
	Radius 2
	//Damage (0)
	Speed 4
	Gravity 0.75
	Scale 0.4
	+THRUACTORS
	+BLOODLESSIMPACT
	-NOGRAVITY
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			TNT1 A 0 A_ChangeVelocity(0,0,-8,CVF_RELATIVE)
			TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			//TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			//TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			//TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			//TNT1 A 0 A_SpawnItemEx("Painkiller_GrenadeFire",0,0,4,0,0,0,0,SXF_NOCHECKPOSITION)	TNT1 A 2 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERSCALE)
			Stop
	}
}

Actor Painkiller_Chaingun_Puff : PainkillerPuff
{
	+HITTRACER
	+ALWAYSPUFF
	+PUFFONACTORS
	+PUFFGETSOWNER
	+BLOODLESSIMPACT
	-SKYEXPLODE
	+FORCEXYBILLBOARD
	Decal "PainkillerBulletHole"
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIf(CallACS("Painkiller_BloodGenerator_Offsets")==1,1)
			TNT1 A 0 A_GiveInventory("Painkiller_BloodGenerator",1,AAPTR_TRACER)
			TNT1 A 0 A_SpawnItemEx("Painkiller_Smoke",0,0,0,0,0,frandom(0.5,1.0),0,SXF_NOCHECKPOSITION)
			TNT1 A 2
			Stop
		Melee:
		Crash:
			TNT1 A 0 A_PlaySound("Painkiller/Ricochet",CHAN_7,0.33)
			TNT1 A 0 A_CustomMissile("Painkiller_RicochetTrail",0,0,random(0,360),CMF_AIMDIRECTION,90+random(-15,15))
			TNT1 A 0 A_SpawnItemEx("Painkiller_ChaingunHitWallEffect1",0,0,0,frandom(-1.0,1.0),frandom(-1.0,1.0),frandom(1.0,2.0),0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("Painkiller_ChaingunHitWallEffect2",0,0,0,0,0,frandom(2.5,3.5),0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("Painkiller_ChaingunHitWallEffect3",0,0,0,frandom(-1.0,1.0),frandom(-1.0,1.0),frandom(1.0,2.0),0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("Painkiller_ChaingunHitWallEffect4",0,0,0,0,0,frandom(1.0,2.0),0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_SpawnItemEx("Painkiller_ChaingunHitWallEffect5",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 2
			Stop
	}
}

Actor Painkiller_ChaingunHitWallEffect1 : Painkiller_Smoke
{
	Scale 0.1
	Renderstyle Add
	Alpha 0.1
	States
	{
		Spawn:
			TNT1 A 0
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			PK00 T 0 A_SetScale(scalex+0.05)	PK00 T 1 Bright A_Fadeout(0.01)
			Stop
	}
}

Actor Painkiller_ChaingunHitWallEffect2 : Painkiller_Smoke
{
	Scale 0.2
	Renderstyle Add
	Alpha 1.0
	States
	{
		Spawn:
			TNT1 A 0
			PK00 U 0 A_SetScale(scalex-0.03)	PK00 U 1 Bright A_Fadeout(0.1)
			PK00 U 0 A_SetScale(scalex-0.03)	PK00 U 1 Bright A_Fadeout(0.1)
			PK00 U 0 A_SetScale(scalex-0.03)	PK00 U 1 Bright A_Fadeout(0.1)
			PK00 V 0 A_SetScale(scalex-0.03)	PK00 V 1 Bright A_Fadeout(0.1)
			PK00 V 0 A_SetScale(scalex-0.03)	PK00 V 1 Bright A_Fadeout(0.1)
			PK00 V 0 A_SetScale(scalex-0.03)	PK00 V 1 Bright A_Fadeout(0.1)
			PK00 W 0 A_SetScale(scalex-0.03)	PK00 W 1 Bright A_Fadeout(0.1)
			PK00 W 0 A_SetScale(scalex-0.03)	PK00 W 1 Bright A_Fadeout(0.1)
			PK00 W 0 A_SetScale(scalex-0.03)	PK00 W 1 Bright A_Fadeout(0.1)
			PK00 W 0 A_SetScale(scalex-0.03)	PK00 W 1 Bright A_Fadeout(0.1)
			Stop
	}
}

Actor Painkiller_ChaingunHitWallEffect3 : Painkiller_Smoke
{
	Scale 0.167
	Renderstyle Add
	Alpha 0.16
	States
	{
		Spawn:
			TNT1 A 0
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			PK00 X 0 A_SetScale(scalex+0.03)	PK00 X 1 Bright A_Fadeout(0.01)
			Stop
	}
}

Actor Painkiller_ChaingunHitWallEffect4 : Painkiller_Smoke
{
	Scale 0.2
	Renderstyle Add
	Alpha 1.0
	States
	{
		Spawn:
			TNT1 A 0
			PK06 AB 2
			Stop
	}
}

Actor Painkiller_ChaingunHitWallEffect5 : Painkiller_Smoke
{
	Scale 0.67
	Renderstyle Add
	Alpha 1.0
	States
	{
		Spawn:
			TNT1 A 0
			PK00 Z 0 A_SetScale(scalex-0.2)		PK00 Z 1 Bright A_Fadeout(0.134)
			PK00 Z 0 A_SetScale(scalex-0.2)		PK00 Z 1 Bright A_Fadeout(0.134)
			PK00 Z 0 A_SetScale(scalex-0.2)		PK00 Z 1 Bright A_Fadeout(0.134)
			PK00 Z 0 A_SetScale(scalex-0.2)		PK00 Z 1 Bright A_Fadeout(0.134)
			PK00 Z 0 A_SetScale(scalex-0.2)		PK00 Z 1 Bright A_Fadeout(0.134)
			Stop
	}
}

Actor Painkiller_ChaingunComboRound : FastProjectile
{
	+NODAMAGETHRUST
	+THRUSPECIES
	+FORCERADIUSDMG
	-SKYEXPLODE
	//+THRUACTORS
	Scale 3.33
	Speed 48
	Damage (0)
	Height 4
	Radius 2
	MissileType "Painkiller_ChaingunComboSmoke"
	MissileHeight 2
	States
	{
		Spawn:
			PK00 A 0
			PK00 A 0 A_SetPitch(-CallACS("Painkiller_ShooterPitch")/182)
			PK00 A 2
			Goto SpawnLoop
		SpawnLoop:
			//PK00 A 0 A_SpawnItemEx("Painkiller_ChaingunComboSmoke",0,0,-4,0,0,0,0,SXF_NOCHECKPOSITION)
			PK00 A 2 A_SpawnItemEx("Painkiller_ChaingunComboTrail",-4,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERPITCH)
			Loop
		Death:
			PK00 B 0 A_PlaySound("Painkiller/RocketLauncher/Explode",CHAN_5,0.33)
			PK00 B 0 A_Blast(BF_NOIMPACTDAMAGE,damage/4,50,8,"Painkiller_NullEffect","silence")
			PK00 B 0 A_Explode(Random(24,45),50)
			TNT1 AA 0 A_CustomMissile("Painkiller_RicochetTrail",0,0,random(0,360),CMF_AIMDIRECTION,90+random(-30,30))
			PK00 BBBBBBBBBBBBBBBB 0 A_SpawnItemEx("Painkiller_ChaingunComboExplosionSmoke",random(-4,4),random(-4,4),random(-2,4),random(-1,1),random(-1,1),2,0,SXF_NOCHECKPOSITION)
			PK00 BBBBBBBB 0 A_SpawnItemEx("Painkiller_ChaingunComboSmokeGray",random(-4,4),random(-4,4),random(0,4),random(-1,1),random(-1,1),2,0,SXF_NOCHECKPOSITION)
			TNT1 A 2
			Stop
	}
}

Actor Painkiller_ChaingunComboSmoke : Painkiller_Smoke { Scale 0.045 }

Actor Painkiller_ChaingunComboTrail
{
	+NOINTERACTION
	+NOBLOCKMAP
	+CLIENTSIDEONLY
	+FORCEXYBILLBOARD
	Radius 1
	Height 1
	Renderstyle Add
	Alpha 0.25
	States
	{
		Spawn:
			TNT1 A 0
			PK00 A 2 Bright
			stop
	}
}

Actor Painkiller_ChaingunComboExplosionSmoke : Painkiller_Smoke
{
	Scale 0.2
	Renderstyle Add
	Alpha 1.0
	States
	{
		Spawn:
			TNT1 A 0
			PK00 OOOOO 1 Bright A_Fadeout(0.04)
			PK00 PPPPP 1 Bright A_Fadeout(0.04)
			PK00 QQQQQ 1 Bright A_Fadeout(0.04)
			PK00 RRRRR 1 Bright A_Fadeout(0.04)
			PK00 SSSSS 1 Bright A_Fadeout(0.04)
			Stop
	}
}

Actor Painkiller_ChaingunComboSmokeGray
{
	Radius 2
	Height 4
	Renderstyle Translucent
	Scale 0.25
	Alpha 0.63
	+NOINTERACTION
	+NOTRIGGER
	+THRUACTORS
	States
	{
		Spawn:
			TNT1 A 0
			PK00 EEEEEEEEEEEEEEEE 3 A_Fadeout(0.05)
			Stop
	}
}