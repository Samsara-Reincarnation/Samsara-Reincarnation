ACTOR " Railgun " : Weapon
{
    Weapon.Selectionorder 100
    Weapon.Kickback 100
    Weapon.SlotNumber 0
    Inventory.Pickupmessage "You got the Railgun!"
    Decal RailScorch
    +INVENTORY.UNDROPPABLE
    +WEAPON.NOAUTOAIM
    Obituary "$SAMSARA_DOOMGUY_OB_INSTAGIB"
	Inventory.RestrictedTo "DoomguyPlayer"
    Tag "Railgun"
    States
    {
    Ready:
		TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Ready64")
        RLGG A 1 A_WeaponReady
        Loop
    Ready64:
        64RA A 1 A_WeaponReady
        loop		
    Deselect:
		TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Deselect64")
        RLGG A 1 A_Lower
        Loop
    Deselect64:
		64RA A 1 A_Lower
        loop		
    Select:
		TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Select64")
        RLGG A 1 A_Raise
        Loop
    Select:
        64RA A 1 A_Raise
        loop		
    Fire:
		TNT1 A 0 A_JumpIfInventory("Doom64Mode", 1, "Fire64")
        RLGG BCD 1
        TNT1 A 0 A_PlayWeaponSound("doomguy/railfire")
        RLGG E 9 A_RailAttack(10000,0,0,"","",1)
        RLGG F 6 A_CheckForReload(4, "Reloaded")
        RLGG GHIJK 6
        RLGG L 6 A_ResetReloadCounter
    Reloaded:
        RLGG A 6
        RLGG M 0 A_ReFire
        Goto Ready
    Fire64:
        TNT1 A 0 A_PlayWeaponSound("doom64guy/railfire")
        64RA B 12 bright A_RailAttack(10000,0,0,"","",1)
        TNT1 A 0 A_CheckForReload(4, "Reloaded64")
        64RA JI 4
        64RA CHDEFGH 6
        64RA IJ 4
        64RA A 6
        goto Ready		
    Reloaded64:
        64RA A 6
        TNT1 A 0 A_ReFire
        goto Ready		
    Flash:
        TNT1 A 5 bright A_Light1
        TNT1 A 5 bright A_Light2
        TNT1 A 0 bright A_Light0
        Goto LightDone
    Flash64:
        TNT1 A 10 bright
        goto LightDone		
    }
}