Actor Unreal_Minigun : UnrealWeapon 
{
	Tag "Minigun"
	Weapon.SelectionOrder 1500
	Weapon.SlotNumber 6
	Weapon.AmmoType1 Cell
	Weapon.AmmoUse1 1
	Weapon.AmmoType2 Cell
	Weapon.AmmoUse2 1
	Weapon.AmmoGive 50
	+WEAPON.NOALERT	
	Weapon.UpSound "Unreal/Minigun/Select"
	Inventory.PickupMessage "You got the Minigun"
	Obituary "%k's Minigun turned %o into a leaky piece of meat."
	States
	{
		Spawn:
			UN00 A 10 BRIGHT
			UN00 A 10
			Loop
		Select:
			TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_Raise
			TNT1 A 1 A_Raise
			loop	
		Ready:
			UN01 ABCDEF 2
			UN01 GHIJKL 2
			Goto WIdle
		WIdle:
			UN01 M 3 A_WeaponReady UN01 M 0 A_Jump(12, "Cock")
			Loop
		Cock:
			UN06 ABCDEFGHIJJIHGFEDCBA 2 A_WeaponReady
			Goto WIdle
		Deselect:
			UN07 ABCDE 2
			Goto InstantDeselect
		InstantDeselect: // I have to copy paste this everytime. Thanks, Zandronum.
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 1 A_Lower
			Wait	
		Fire:
			UN03 A 0 A_PlaySound("Unreal/Minigun/Fire", CHAN_WEAPON, 1.0, True)
		Hold:
			UN03 A 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
		Hold2:
			UN03 B 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
		Hold3:
			UN03 C 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
		Hold4:
			UN03 D 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
		Hold5:
			UN03 E 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN03 E 0 BRIGHT A_JumpIfInventory("Unreal_Combo", 1, "AltHold")
			UN03 E 0 BRIGHT A_Refire("Hold6")
			Goto WindDown
		Hold6:
			UN03 F 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
		Hold7:
			UN03 G 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN03 G 0 BRIGHT A_Refire("Hold")
			Goto WindDown
		WindDown:
			UN05 A 0 A_StopSound(CHAN_WEAPON)
			UN05 A 2 A_PlaySound("Unreal/Minigun/WindDown", CHAN_WEAPON)
			UN05 BCDEFGH 2 
			Goto WIdle
		AltFire:
			UN04 A 0 A_PlaySound("Unreal/Minigun/Fire", CHAN_WEAPON, 1.0, True)
			UN04 A 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 B 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 C 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 D 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)	
			UN04 E 3 BRIGHT A_FireBullets(1,1,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)			
			UN04 F 0 BRIGHT A_Refire
			Goto WindDown
		AltHold:
			UN04 A 0 BRIGHT A_StopSound(CHAN_WEAPON)
			UN04 A 0 BRIGHT A_PlaySound("Unreal/Minigun/Altfire", CHAN_WEAPON, 1.0, True)
			UN04 A 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 B 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 C 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 D 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 E 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 F 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 G 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 H 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 I 2 BRIGHT A_FireBullets(8,8,1, Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 J 2 BRIGHT A_FireBullets(8,8,1,Random(12,21), "UnrealMiniPuff", FBF_USEAMMO|FBF_USEAMMO)
			UN04 J 0 A_Refire
			Goto WindDown
		}
}		