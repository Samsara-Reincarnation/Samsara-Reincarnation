actor QuakePlayer : PlayerPawn
{
    Radius 16
    Height 56
    Mass 100
    Scale 0.27
    Speed 1
    Gravity 0.75
    Player.JumpZ 6.9282
    Health 100
    PainChance 255
    Species "Player"
    -THRUSPECIES
    -DONTBLAST
    Player.SoundClass "ranger"
    Player.Face "RNG"
    Player.DisplayName "Ranger"
    Player.StartItem "QuakeClass"
    Player.StartItem "Single Shotgun"
    Player.StartItem "IsSamsaraClass", 1
    Player.StartItem "Shell", 25
    Player.StartItem "Axe"
	Player.StartItem "TauntButton", 1
    Player.ColorRange 112, 127
	BloodType "Quake_NewParticles"	
    BounceFactor 0.35
    WallBounceFactor 0.5
	RadiusDamageFactor 0.75
	DamageFactor "RebelMissile", 0
	DamageFactor "DynamiteCoop", 0.0	
	DamageFactor "SWFlameCoop", 0.0	
    DamageFactor "PoisonCloud", 1.75
    DamageFactor "WMCBeam", 0.75
    DamageFactor "WMCNade", 0.75
    DamageFactor "MightyBoot", 1.5
    DamageFactor "CorvusCrossbow", 1.1
    DamageFactor "DragonClaw", 1.1
	DamageFactor "EnemyInfightDamage", 0.0
	DamageFactor "SWStickyCoop", 0.0
	DamageFactor "ElectricBolt", 1.0	
	DamageFactor "CMDMGSHIT", 0.0	
	DamageFactor "PhosFireCoop", 0.0
    DamageFactor "C7MineBoom", 0.0	
    DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "EradCoopExplosive2", 0.0	
	DamageFactor "BCannonProj", 0.75
    DamageFactor "RMR-BigPlasma", 0.85		
 	DamageFactor "SWNukeCoop", 0.0		
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	var int user_scalex;
	var int user_scaley;
    States
    {
		Spawn:
			"----" A 0 A_JumpIfInventory("Ranger_AxeSelected", 1, 10)
			PLY1 ABCDE 4
			"----" A 0 A_JumpIfInventory("Ranger_GunSelected", 1, "Spawn")
			"----" A 0 A_JumpIfInventory("Ranger_PlasmaSelected", 1, "Spawn")
			"----" A 0 A_JumpIfInventory("Ranger_NailSelected", 1, "Spawn")
			"----" A 0 A_JumpIfInventory("Ranger_ExplosiveSelected", 1, "Spawn")
			PL1B ABCDEFGHIJKL 3
			Loop
		See:
			"----" A 0 A_JumpIfInventory("Ranger_AxeSelected", 1, 11)
			PLY2 ABCDEF 4
			"----" A 0 A_JumpIfInventory("Ranger_GunSelected", 1, "See")
			"----" A 0 A_JumpIfInventory("Ranger_PlasmaSelected", 1, "See")
			"----" A 0 A_JumpIfInventory("Ranger_NailSelected", 1, "See")
			"----" A 0 A_JumpIfInventory("Ranger_ExplosiveSelected", 1, "See")
			PL2B ABCDEF 4
			Loop       
		Missile:
			"----" A 0 A_JumpIfinventory("Ranger_AxeSelected", 1, "AxeMelee")
			"----" A 0 A_JumpIfinventory("QuadDamagePower", 1, "QuadSound1")
			"----" A 0 A_JumpIfInventory("Ranger_NailSelected", 1, "NailFire")
			"----" A 0 A_JumpIfInventory("Ranger_ExplosiveSelected", 1, "RocketFire")
			"----" A 0 A_JumpIfInventory("Ranger_PlasmaSelected", 1, "PlasmaFire")
			PLY3 A 4 
			PLY3 B 4 BRIGHT
			PLY3 CDEF 4 
			Goto Spawn
		NailFire:
			PL3B A 4 BRIGHT
			PL3B B 4
			Goto Spawn
		RocketFire:
			PL3C A 3 BRIGHT
			PL3C BCDEF 4
			Goto Spawn
		PlasmaFire:
			PL3D A 4 BRIGHT
			PL3D B 4 BRIGHT
			Goto Spawn
		AxeMelee:
			"----" A 1 
			"----" A 0 A_JumpIfinventory("QuadDamagePower", 1, "QuadSound2")
		AxePrimary:
			PLY3 A 0 A_Jump(256,"Axe1","Axe2","Axe3","Axe4")
		Axe1:
			PAXE ABCDEF 4
			Goto Spawn
		Axe2:
			PAXE GHIJKL 4
			Goto Spawn
		Axe3:
			PAXE MNOPQR 4
			Goto Spawn
		Axe4:
			PAXE STUVWX 4
			Goto Spawn
		QuadSound1:
			"----" A 0 A_PlaySound("quakeweps/quadfire", 7)
			goto Missile+2
		QuadSound2:
			"----" A 0 A_PlaySound("quakeweps/quadfire", 7)
			goto AxePrimary
		Pain:
			"----" A 0 A_JumpIfinventory("Ranger_AxeSelected", 1, "AxePain")
			PLY4 A 3 A_Pain
			PLY4 BCDEF 3
			Goto Spawn
		AxePain:
			PL4B A 3 A_Pain
			PL4B BCDEF 3
			Goto Spawn
		Pain.Falling:
			"----" A 0 A_JumpIfinventory("Ranger_AxeSelected", 1, "AxePain.Falling")
			PLY4 A 3 A_PlaySound("ranger/fallpain")
			PLY4 BCDEF 3
			Goto Spawn
		AxePain.Falling:
			PL4B A 3 A_PlaySound("ranger/fallpain")
			PL4B BCDEF 3
			Goto Spawn
		Pain.WolfenFlamethrower:
		Pain.MarathonPlasma:
		Pain.Slime:
		Pain.HexGreenFire:
		Pain.QuakeFire:
		Pain.FireExplosive:
		Pain.PhosFireCoop:	  
		Pain.EradGreenFire:
		Pain.CalebFire:	  
		Pain.Fire:
			"----" A 0 A_JumpIfinventory("Ranger_AxeSelected", 1, "AxePain.Fire")
			PLY4 A 3 A_PlaySound("ranger/firepain")
			PLY4 BCDEF 3
			Goto Spawn
		AxePain.Fire:
			PL4B A 3 A_PlaySound("ranger/firepain")
			PL4B BCDEF 3
			Goto Spawn
		Pain.Drowning:
			"----" A 0 A_JumpIfinventory("Ranger_AxeSelected", 1, "AxePain.Drowning")
			PLY4 A 3 A_PlaySound("ranger/drowning", CHAN_VOICE)
			PLY4 BCDEF 3
			Goto Spawn
		AxePain.Drowning:
			PL4B A 3 A_PlaySound("ranger/drowning", CHAN_VOICE)
			PL4B BCDEF 3
			Goto Spawn
		Pain.Pushed:
			"----" A 0 A_JumpIfInventory("AxeChecker", 99, "AxePain.Pushed")
			PLY4 A 1 A_FaceTarget
			"----" A 0 ThrustThingZ(0,100,0,0)
			"----" A 0 ThrustThing(angle*256/360+128,100,0,0)
			PLY4 A 3 A_Pain
			PLY4 BCDEF 3
			Goto Spawn
		AxePain.Pushed:
			PL4B A 1 A_FaceTarget
			"----" A 0 ThrustThingZ(0,100,0,0)
			"----" A 0 ThrustThing(angle*256/360+128, 100, 0, 0)
			PL4B A 3 A_Pain
			PL4B BCDEF 3
			Goto Spawn   
		Death:
			"----" A 1 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
			"----" A 0 A_Jump(256,"death1","death2","death3","death4","death5")
		Death1:
			PLY5 A 3
			PLY5 B 3 A_PlayerScream
			PLY5 C 3 A_NoBlocking
			PLY5 DEFGHIJ 3
			PLY5 K -1 A_CheckPlayerDone
			Wait
		Death2:
			PLY6 A 3
			PLY6 B 3 A_PlayerScream
			PLY6 C 3 A_NoBlocking
			PLY6 DEFGH 3
			PLY6 I -1 A_CheckPlayerDone
			Wait
		Death3:
			PLY7 A 3
			PLY7 B 3 A_PlayerScream
			PLY7 C 3 A_NoBlocking
			PLY7 DEFGHIJKLMN 3
			PLY7 O -1 A_CheckPlayerDone
			Wait
		Death4:
			PLY8 A 3
			PLY8 B 3 A_PlayerScream
			PLY8 C 3 A_NoBlocking
			PLY8 DEFGH 3
			PLY8 I -1 A_CheckPlayerDone
			Wait
		Death5:
			PLY9 A 3
			PLY9 B 3 A_PlayerScream
			PLY9 C 3 A_NoBlocking
			PLY9 DEFGH 3
			PLY9 I -1 A_CheckPlayerDone
			Wait
		Death.Drowning:
			"----" A 1
			"----" A 0 A_Jump(256,"ddrown1","ddrown2","ddrown3","ddrown4","ddrown5")
		ddrown1:
			PLY5 A 3
			PLY5 B 3 A_PlaySound("ranger/drown", CHAN_VOICE)
			PLY5 C 3 A_NoBlocking
			PLY5 DEFGHIJ 3
			PLY5 K -1 A_CheckPlayerDone
			Wait
		ddrown2:
			PLY6 A 3
			PLY6 B 3 A_PlaySound("ranger/drown", CHAN_VOICE)
			PLY6 C 3 A_NoBlocking
			PLY6 DEFGH 3
			PLY6 I -1 A_CheckPlayerDone
			Wait
		ddrown3:
			PLY7 A 3
			PLY7 B 3 A_PlaySound("ranger/drown", CHAN_VOICE)
			PLY7 C 3 A_NoBlocking
			PLY7 DEFGHIJKLMN 3
			PLY7 O -1 A_CheckPlayerDone
			Wait
		ddrown4:
			PLY8 A 3
			PLY8 B 3 A_PlaySound("ranger/drown", CHAN_VOICE)
			PLY8 C 3 A_NoBlocking
			PLY8 DEFGH 3
			PLY8 I -1 A_CheckPlayerDone
			Wait
		ddrown5:
			PLY9 A 3
			PLY9 B 3 A_PlaySound("ranger/drown", CHAN_VOICE)
			PLY9 C 3 A_NoBlocking
			PLY9 DEFGH 3
			PLY9 I -1 A_CheckPlayerDone
			Wait
		XDeath:
			TNT1 A 0 A_SpawnDebris("Quake_RangerHead")
			TNT1 A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A 0 A_PlaySound("ranger/gib", CHAN_VOICE)
			TNT1 A 1 A_UnsetSolid
			TNT1 A -1
			Stop
		CoopModeOn:
			TNT1 A 0
			TNT1 A 0 A_ChangeFlag("THRUSPECIES",1)
			TNT1 A 0 A_ChangeFlag("DONTBLAST",1)
			TNT1 A 1
			goto Spawn
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 A_Stop
			"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
			"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 A_PlayerScream
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 A_UnsetSolid
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 3 A_SetTranslucent(0.4,0)
			"####" "#" 3 A_SetTranslucent(0.3,0)
			"####" "#" 3 A_SetTranslucent(0.2,0)
			"####" "#" 3 A_SetTranslucent(0.1,0)
			ACLO E 1 A_SetTranslucent(1,0)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:	  
		Death.MarathonPlasma:
		Burn:
			RBRN I 1 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(12,42),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
			RBRN I 1 A_PlaySound("*burndeath")
			RBRN IIII 1 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(11,37),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
			RBRN J 1 A_NoBlocking
			RBRN JJJJ 1 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(10,32),random(-2,2),random(-2,2),random(0,3),random(-180,180),32)
			RBRN KKKKLLLLMMMM 1 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(8,22),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN NNNNNNNNNNNN 2 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN NNNNNNNNNNNN 3 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN NNNNNNNNNNNN 4 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN NNNNNNNNNNNN 5 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN NNNNNNNNNNNN 6 A_SpawnItemEx("QuakeBurn",random(-10,10),random(-10,10),random(5,12),random(-1,1),random(-1,1),random(0,2),random(-180,180),32)
			RBRN N -1
			Stop
		Death.TotenkopfFire:
			TNT1 A 0 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItem("Totenkopf_BurningGuard")
			TNT1 A -1 A_UnsetSolid
			Stop		
		Death.DukeDamage:
		Death.DukePistol:
			"####" A 0 A_Jump(218,"Death")
			"####" A 0 A_GiveToTarget("DukeKillTaunt",1)
			goto Death
		Death.MightyBoot:
			"####" A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			"####" A 0 A_Jump(64,"Death")
			"####" A 0 A_GiveToTarget("DukeBootTaunt",1)
			goto Death
		Death.DukeExplosive:
			"####" A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
		DukeGibStart:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnDebris("DukeGibs1")
			"####" A 0 A_SpawnDebris("DukeGibs2")
			"####" A 0 A_SpawnDebris("DukeGibs3")
			"####" A 0 A_SpawnDebris("DukeGibs4")
			"####" A 0 A_SpawnDebris("DukeGibs5")
			"####" A 0 A_SpawnDebris("DukeGibs6")
			"####" A 0 A_PlaySound("duke/enemygib")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			TNT1 A -1
			Stop
		Death.DukeIce:
			"####" "#" 0 A_Jump(218,"Ice")
			"####" "#" 0 A_GiveToTarget("DukeDMTaunt1",1)
		Ice:
		Death.HexenIce:
		Death.Ice:
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_PlayerFreezeTranslation")		  
			"####" "#" 0 A_PlayWeaponSound("misc/freeze")
			"####" "#" 0 A_UnsetSolid
			"####" "#" 70
			"####" "#" 0 A_SetTranslucent(0,0)
			"####" "######################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(8,48),random(-2,2),random(-2,2),random(1,6))
			ACLO E 1 A_PlayWeaponSound("misc/icebreak")//A_FreezeDeathChunks
			TNT1 A -1
			Stop	
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeGibTaunt", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeGibTaunt", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Pain.ShrinkerDMG:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			PLY4 A 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_NoBlocking
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("QuakePlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		Pain.MightyBoot:
			PLY4 A 1 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 24)
			PLY4 A 1 A_PlaySoundEx("duke/kickhit","body",0,0)
			TNT1 A 0 A_Recoil(12)
			PLY4 A 6 A_Pain
			Goto See
		Pain.MarathonStun:
			TNT1 A 0 A_Stop
			PLY4 A 1 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 100)
			TNT1 A 0 A_GiveInventory("NothingSpeed")
			TNT1 A 0 A_SetBlend("White",0.9,105)
			PLY4 A 1 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
			PLY4 A 6 A_Pain
			Goto See
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
			"####" A 0 A_JumpIfHealthLower(-50, "XDeathForRanger")
			goto Death
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		XDeathForRanger:
			"####" A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			BLAN A -1 A_UnsetSolid
			Goto XDeath
		Death.RottExplosive:
			TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_Jump(128,2)
			TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
			BLAN A 1 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.RottFire:
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItem("BurningSkeleton") 
			TNT1 A -1
			Stop
		Death.RottDisintegrate:
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_UnsetSolid
			TNT1 A 5 A_SpawnItem("RGodModeDeath")
			TNT1 A -1
			Stop
		Pain.Shock:
		Pain.Tesla:
			CBGS M 4 A_Pain
			CBGS M 4
			Goto See
		Pain.LifeLeech:
			TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
			TNT1 A 0 A_GiveToTarget("HealthBonus",1)
			Goto Pain
		Death.CalebFire:
		Death.LifeLeech:
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			TNT1 A 0 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Silent", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:	  
		Death.Shock:	  	  
			"####" A 0 A_JumpIfHealthLower(-50, "XDeathForCaleb")
		Death.Tesla:
		Death.CalebBullet:
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			Goto Death
		XDeathForCaleb:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("CalebGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("CalebDMTaunt1",1)
			TNT1 A -1
			Stop
		Disintegrate:
			"####" "#" 0 A_UnsetSolid
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 0 A_PlayerScream
			"####" "#" 0 A_Stop
			"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.4,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.3,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.2,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.1,0)
			TNT1 A -1
			Stop
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:	
			"####" A 0 A_JumpIfHealthLower(-5,"XDeathForCatBitch")
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
			Goto Death
		XDeathForCatBitch:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("EleenaGibTaunt",1)
			Goto XDeath		
		Death.Nuke:
			"####" "#" 0 A_ChangeFlag("SOLID", 0)
			"####" "#" 0 A_PlayerScream
			"####" "#" 0 A_UnsetSolid		
			"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
			"####" "#" 0 A_Stop
			"####" "#################" 3 A_Fadeout(0.05)
			TNT1 A -1
			Stop
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:	
			"####" A 0 A_JumpIfHealthLower(-20,1)
			goto Death
		Death.HLEgon:
		Death.FreemanGibs:
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("HLGenericGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" A 0 A_UnsetSolid
			"####" A 5 A_FadeOut
			TNT1 A -1
			Stop
		Death.SWFist:
			"####" A 0 A_GiveToTarget("SWLoWangBloody", 1)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWFisted")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death	
		Death.SWKatana:
			"####" A 0 A_GiveToTarget("SWLoWangBloody", 1)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWKatanad")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death	
		Death.SWShuriken:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWShurikend")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death
		Death.SWSticky:
			Death.SWStickyCoop:	
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
			"####" A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
		Death.SWBullet:	  
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death
		XDeathForWang:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("SWHumanGibSpawner")	
			"####" A 0 A_Jump(218, "XDeath")	
			"####" A 0 A_GiveToTarget("LoWangDMTaunt2",1)
			TNT1 A -1
			Stop
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
			"####" A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
		Death.PSBullet:
		Death.PSFire:	
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("JonDMTaunt1", 1)
			Goto Death
		Death.PSFire:
			"####" A 0 A_GiveToTarget("JonDMTaunt1", 1)
			Goto Burn
		XDeathForJon:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("PSGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("JonDMTaunt1",1)
			TNT1 A -1
			Stop	
		Death.LeonardDamage2:
		Death.LeonardDamage3:
			"####" A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
			Goto Death
		XDeathForLeonard:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("RRGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("LeonardGibTaunt",1)
			TNT1 A -1
			Stop
		Death.BittermanDamage:
			"####" A 0 A_JumpIfHealthLower(-50, "XdeathForBitterman")
			goto Death
		XDeathForBitterman:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")	
			TNT1 A 5 A_SpawnItem(Q2GibSpawner)
			TNT1 A 1 A_CheckPlayerDone
			TNT1 A -1
			Stop
		Pain.Hexen2RavenDamage:
			"####" A 0 A_Jump(192,"Pain")
			"####" A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
			Goto Pain
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
			"####" A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
			Goto Death
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		XDeathForDemoness:
			"####" A 0 A_Playsound("Hexen2/Gib", CHAN_5)
			"####" A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_UnsetSolid
			TNT1 A -1
			Stop	
	}
}

Actor QuakePlayer_Shrink : QuakePlayer
{
	Player.ForwardMove 0.25
	Player.SideMove 0.25
	Player.MorphWeapon "ShrunkWeapon"
	Player.ViewHeight 8
	DamageFactor "ZorchPistol", 0.0
	DamageFactor "Zorch", 0.0
	DamageFactor "ZorchKamikaze", 0.0
	DamageFactor "PhasingZorch", 0.0
	DamageFactor "ZorchSpectral", 0.0
	MaxStepHeight 2
	Height 8
	Radius 4
	-SOLID
	+NOPAIN
	States
	{
		Spawn:
			PLY1 ABCDE 4
			Loop
		See:
			PLY2 ABCDEF 4
			Loop      
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:	  
		Death.MarathonPlasma:
		Burn:
		Death.TotenkopfFire:
		Death.DukeDamage:
		Death.DukePistol:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Ice:
		Death.HexenIce:
		Death.Ice:
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		Death.RottExplosive:
		Death.RottFire:
		Death.RottDisintegrate:
		Death.CalebFire:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.Shock:  
		Death.Tesla:
		Death.CalebBullet:
		Disintegrate:
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
		Death.Nuke:
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:
		Death.HLEgon:
		Death.FreemanGibs:
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:
		Death.PSFire:
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
		Death.BittermanDamage:
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		Death.DukeSquish:
		XDeath.DukeSquish:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			PLY4 A 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
	}
}

actor QuakePlayer_ShrinkEffect : QuakePlayer
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			PLY4 A 0
			PLY4 A 0 A_SetUserVar("user_scalex", scalex*65536.0)
			PLY4 A 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

ACTOR Quake_RangerHead : PlayerChunk
{
	Radius 4
	Height 4
	Scale 0.6
	+NOBLOCKMAP
	+DROPOFF
	+CANNOTPUSH
	+SKYEXPLODE
	+NOBLOCKMONST
	+NOSKIN
	Gravity 0.5
	Health 1
	States
	{
	Spawn:
		QD11 A 0
		QD11 A 5 A_CheckFloor("Hit")
		Goto Spawn+1
	Hit:
		QD11 B 16 A_CheckPlayerDone
		Wait
	}
}

ACTOR Quake_NewParticles : SamsaraBloodyHellBlood
{
	+CLIENTSIDEONLY
	+NOGRAVITY
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-2,2)*5, random(-2,2)*5, random(-2,2)*5,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-2,2)*5, random(-2,2)*5, random(-2,2)*5,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-2,2)*5, random(-2,2)*5, random(-2,2)*5,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-2,2)*5, random(-2,2)*5, random(-2,2)*5,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-2,2)*5, random(-2,2)*5, random(-2,2)*5,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx("Switchable_FlyingBlood",0,0,0,random(-350,350)/100.00,random(-350,350)/100.00,random(500,1000)/100.00,random(-180,180),33)
			TNT1 A 1
			Stop
	}
}

ACTOR Quake_GibBlood : Quake_NewParticles
{
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SpawnItemEx("Switchable_FlyingBlood",0,0,0,random(-350,350)/100.00,random(-350,350)/100.00,random(500,1000)/100.00,random(-180,180),33)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-1,1)*2, random(-1,1)*2, random(-1,1)*2,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 0 A_SpawnItemEx ("Quake_BloodParticle", random(-1,1)*2, random(-1,1)*2, random(-1,1)*2,0,0,0,0,SXF_TRANSFERTRANSLATION)
			TNT1 A 1 A_SpawnItemEx ("Quake_BloodParticle", random(-1,1)*2, random(-1,1)*2, random(-1,1)*2,0,0,0,0,SXF_TRANSFERTRANSLATION)
			Stop
	}
}

actor Quake_GIB0
{
  Radius 4
  Height 4
  Speed 0
  +NOTELEPORT
  +NOBLOCKMAP
  +MOVEWITHSECTOR
  +THRUACTORS
  +CLIENTSIDEONLY
  -SOLID
  +NOINTERACTION
  States
  {
  Spawn:
	QD11 B 0 A_Stop
	QD11 B 100 A_FadeOut
	Stop
  }
}

actor Quake_GIB1
{
  Radius 4
  Height 4
  Speed 0
  Projectile
  Gravity 0.5
  BounceType Doom
  BounceFactor 0.5
  BounceCount 5
  -NOGRAVITY
  +NOTELEPORT
  +MOVEWITHSECTOR
  +THRUACTORS
  +CLIENTSIDEONLY
  -SOLID  
  health 2
  States
  {
  Spawn:
    QD11 A 2 A_SpawnItemEx("Quake_GibBlood",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
    loop
  Death:
    QD11 B 0 A_Jump(192, 2, 3, 4)
    QD11 B 300 A_Gravity
    stop
    QD11 B 250 A_Gravity
    stop
    QD11 B 200 A_Gravity
    stop
    QD11 B 150 A_Gravity
    stop
  }
}

actor Quake_GIB2 : Quake_GIB1
{
  health 3
  States
  {
  Spawn:
    QD11 AABBCCDDEEFFGGHH 2 A_SpawnItemEx("Quake_GibBlood",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
    loop
  Death:
	QD11 I 0 A_Stop
    QD11 I 0 A_Jump(192, 2, 3, 4)
    QD11 I 300 A_Gravity
    stop
    QD11 I 250 A_Gravity
    stop
    QD11 I 200 A_Gravity
    stop
    QD11 I 150 A_Gravity
    stop
  }
}

actor Quake_GIB3 : Quake_GIB1
{
  health 4
  States
  {
  Spawn:
    QD11 AABBCCDDEEFFGGHH 2 A_SpawnItemEx("Quake_GibBlood",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
    loop
  Death:
	QD11 I 0 A_Stop
    QD11 I 0 A_Jump(192, 2, 3, 4)
    QD11 I 300 A_Gravity
    stop
    QD11 I 250 A_Gravity
    stop
    QD11 I 200 A_Gravity
    stop
    QD11 I 150 A_Gravity
    stop
  }
}

actor Quake_GIB12 : Quake_GIB1
{
  health 2
  States
  {
  Spawn:
    QD11 AABBCCDDEEFFGGHH 2 A_SpawnItemEx("Quake_GibBlood",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
    loop
  Death:
	QD11 I 0 A_Stop
    QD11 I 0 A_Jump(192, 2, 3, 4)
    QD11 I 300 A_Gravity
    stop
    QD11 I 250 A_Gravity
    stop
    QD11 I 200 A_Gravity
    stop
    QD11 I 150 A_Gravity
    stop
  }
}

Actor QuakeGibSpawner
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOCLIP
	-TELESTOMP
	-SOLID
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_SpawnDebris("Quake_GIB1",true)
		TNT1 A 0 A_SpawnDebris("Quake_GIB2",true)
		TNT1 A 0 A_SpawnDebris("Quake_GIB3",true)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 5 A_PlaySound("ranger/gib2")
		stop
	}
}

Actor QuakeMediumGibSpawner
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOCLIP
	-TELESTOMP
	-SOLID
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AA 0 A_SpawnDebris("Quake_GIB1",true)
		TNT1 AA 0 A_SpawnDebris("Quake_GIB2",true)
		TNT1 AA 0 A_SpawnDebris("Quake_GIB3",true)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 5 A_PlaySound("ranger/gib2")
		stop
	}
}

Actor QuakeLargeGibSpawner
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOCLIP
	-TELESTOMP
	-SOLID
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAA 0 A_SpawnDebris("Quake_GIB1",true)
		TNT1 AAA 0 A_SpawnDebris("Quake_GIB2",true)
		TNT1 AAA 0 A_SpawnDebris("Quake_GIB3",true)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 5 A_PlaySound("ranger/gib2")
		stop
	}
}

Actor QuakeHugeGibSpawner
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	+NOCLIP
	-TELESTOMP
	-SOLID
	+NOGRAVITY
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 AAAA 0 A_SpawnDebris("Quake_GIB1",true)
		TNT1 AAAA 0 A_SpawnDebris("Quake_GIB2",true)
		TNT1 AAAA 0 A_SpawnDebris("Quake_GIB3",true)
		TNT1 A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
		TNT1 A 5 A_PlaySound("ranger/gib2")
		stop
	}
}

actor QuakeClass: Boolean {}

actor QuakeBullet: FastProjectile
{
    Damage (4)
    Radius 1
    Height 1
    Speed 320
    Projectile
	DamageType "QuakeExplosive"
    Renderstyle "Normal"
    Species "Player"
    +BLOODSPLATTER
    +THRUGHOST
    +THRUSPECIES
    +NOTIMEFREEZE
    Alpha 1.0
    //Decal Bulletchip
    States
    {
      Spawn:
        TNT1 A 1
        loop
      Death:
        TNT1 A 1
        TNT1 A 1 A_SpawnItem("QuakeBulletPuff")
        stop
      Crash:
      XDeath:
        TNT1 A 1
        stop
    }
}

actor QuakeBulletSpectral: QuakeBullet
{
    -THRUGHOST
    DamageType "Spectral"
}

Actor QuakeQuadBullet : QuakeBullet
{
	DamageType "QuakeQuadded"
}	

actor QuakeBullet2: QuakeBullet
{
    -THRUGHOST
//    DamageType "QuakePistol"
}

actor TelefragTester: Rocket
{
    DamageType "Telefrag"
}

actor QuakeInvisibility: CustomInventory
{
    +AUTOACTIVATE
    +ALWAYSPICKUP
    Inventory.MaxAmount 0
    States
    {
      Pickup:
        TNT1 A 0 A_SetTranslucent(0.15, 0)
        TNT1 A 0 A_ChangeFlag("SHADOW", 1)
        stop
    }
}

actor QuakeInvisibilityOff: CustomInventory
{
    +AUTOACTIVATE
    +ALWAYSPICKUP
    Inventory.MaxAmount 0
    States
    {
      Pickup:
        TNT1 A 0 A_SetTranslucent(1.0, 0)
        TNT1 A 0 A_ChangeFlag("SHADOW", 0)
        stop
    }
}

actor QuakeBurn
{
    Alpha 0.5
    Scale 0.25
    RenderStyle Add
    +CLIENTSIDEONLY
    +NOINTERACTION
    States
    {
      Spawn:
        CFFX CDEFGHIJ 2 bright A_FadeOut(0.025)
        loop
    }
}

Actor RangerBurned
{
    +CLIENTSIDEONLY
    -SOLID
    +FLOORCLIP
	Scale 0.65
	States
	{
		Spawn:
			TNT1 A 0
			ske7 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 bright
			skex ABCDEFGHIJKL 2 bright
			skex M 0 A_playsound("gen/skel") 
			skex MNOPQRSTUV 3 bright
			skex V -1
			Stop
	}
}

Actor QuakeSmallGibDropper : QuakeGibSpawner {}

ACTOR Quake_BloodParticle
{
  Radius 1
  Height 1
  Projectile
  Speed 1
  +NOBLOCKMAP
  +DROPOFF
  +CANNOTPUSH
  +SKYEXPLODE
  +NOBLOCKMONST
  +CLIENTSIDEONLY
  +THRUACTORS
  +NOCLIP
  +NOTELEPORT
  Scale 0.65
  Damage (0)
  States
  {
  Spawn:
    BPAR C 0
    BPAR C 0 A_Jump (256, "shade1", "shade3", "shade5")
    Shade1:
    BPAR C 5
	A:
	BPAR C 1 A_FadeOut
    Loop
    Shade3:
    BPAR D 5
	B:
	BPAR D 1 A_FadeOut
    Loop
    Shade5:
    BPAR E 5
	C:
	BPAR E 1 A_FadeOut
    Loop
  }
}

Actor AxeChecker : CustomInventory { Inventory.MaxAmount 99 }