actor MarathonPlayer : PlayerPawn
{
    Player.DisplayName "SecurityOfficer"
    Gravity 0.15
    Mass 220
    scale 0.45
    Player.Face "MAR"
    Player.JumpZ 4
    Player.ForwardMove 0.95, 0.925
    Player.SideMove 0.95, 0.925
    Player.DamageScreenColor "Red"//, 0.0
    Player.Soundclass "MarathonPlayer"
    +NOSKIN
    -DONTBLAST
    -THRUSPECIES
    //+NOICEDEATH
    Species "Player"
    Player.ColorRange 112, 123
    Player.StartItem ".44 Magnum Mega Class A1", 1
    Player.StartItem "Steel Knuckles", 1
    Player.StartItem "Clip", 50
    Player.StartItem "RocketAmmo", 10
    Player.StartItem "Shell", 20
    Player.StartItem "Cell", 50
	Player.StartItem "TauntButton", 1
    Player.StartItem "IsSamsaraClass", 1
    Player.StartItem "MarathonClass", 1
    //Player.StartItem "Allmap", 1
    //Player.StartItem "PowerScanner", 1
    Player.StartItem "MagnumBullet", 8
    Player.StartItem "MagnumBulletRight", 8
    Player.StartItem "WastemShell", 2
    Player.StartItem "WastemShellRight", 2
    Player.StartItem "RifleBullet", 52
    Player.StartItem "SmgBullet", 32
    Player.StartItem "FusionBullet", 20
    Player.StartItem "GrenadeInClip", 7
    Player.StartItem "WMCAmmo", 8
    Player.StartItem "MortarAmmo", 3
    Player.StartItem "NapalmInTank", 210
    Player.StartItem "SpankerAmmo", 2
    Player.StartItem "KnifeAmmo", 2
	DamageFactor "RebelMissile", 0
    DamageFactor "PoisonCloud", 1.75
    //DamageFactor "Wraithverge", 0.75
	DamageFactor "DynamiteCoop", 0.0	
    DamageFactor "WMCBeam", 0.75
    DamageFactor "WMCNade", 0.75
    DamageFactor "MightyBoot", 1.5
    DamageFactor "CorvusCrossbow", 1.1
    DamageFactor "DragonClaw", 1.1
	DamageFactor "SWStickyCoop", 0.0	
	DamageFactor "EnemyInfightDamage", 0.0
	DamageFactor "CMDMGSHIT", 0.0
	DamageFactor "ElectricCrossbow", 1.1	
	DamageFactor "EnemyInfightDamage", 0.0
	DamageFactor "PhosFireCoop", 0.0
	DamageFactor "EradCoopExplosive2", 0.0
    DamageFactor "C7MineBoom", 0.0
    DamageFactor "EradCoopGreenFire", 0.0
	DamageFactor "ElectricBolt", 1.0
    DamageFactor "RMR-BigPlasma", 0.85		
	DamageFactor "SWNukeCoop", 0.0		
	DamageFactor "SWRailgunCoop", 0.0
	DamageFactor "SWFlame2Coop", 0.0
	DamageFactor "SWFlameCoop", 0.0
	BloodType "SamsaraBloodyHellBlood"
	var int user_scalex;
	var int user_scaley;
    States
    {
        Spawn:
            SOPL A 0
            TNT1 A 0 A_JumpIfInventory("UsingFists",1,"SpawnFists")
            TNT1 A 0 A_JumpIfInventory("UsingDualPistols",1,"SpawnDualPistols")
            TNT1 A 0 A_JumpIfInventory("UsingPistols",1,"SpawnPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSMG",1,"SpawnSMG")
            TNT1 A 0 A_JumpIfInventory("UsingPacifier",1,"SpawnPacifier")
            TNT1 A 0 A_JumpIfInventory("UsingDualShotguns",1,"SpawnDualShotguns")
            TNT1 A 0 A_JumpIfInventory("UsingShotguns",1,"SpawnShotgun")
            TNT1 A 0 A_JumpIfInventory("UsingFusionPistol",1,"SpawnFusionPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSpanker",1,"SpawnSpanker")
            TNT1 A 0 A_JumpIfInventory("UsingToasty",1,"SpawnToasty")
            TNT1 A 0 A_JumpIfInventory("UsingWMC",1,"SpawnWMC")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon",1,"SpawnAlienWeapon")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon2",1,"SpawnAlienWeapon2")
            //TNT1 A 0 A_JumpIfInventory("UsingMarathonInstagib",1,"SpawnInstagib")
        SpawnAssaultRifle: // default
            SOPL AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOPL A -1 A_Jump(256,"Spawn")
        SpawnFists:
            SOFS AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOFS A -1 A_Jump(256,"Spawn")
        SpawnPistol:
            SOPS AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOPS A -1 A_Jump(256,"Spawn")
        SpawnDualPistols:
            SODP AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SODP A -1 A_Jump(256,"Spawn")
        SpawnSMG:
            SOMG AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOMG A -1 A_Jump(256,"Spawn")
        SpawnPacifier:
            SOFP AAAAA 1 A_JumpIf(momz >> 0, "Jumping") // placeholder until pacifier sprites exist
            SOFP A -1 A_Jump(256,"Spawn")
        SpawnShotgun:
            SOSG AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOSG A -1 A_Jump(256,"Spawn")
        SpawnDualShotguns:
            SDSG AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SDSG A -1 A_Jump(256,"Spawn")
        SpawnFusionPistol:
            SOFP AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOFP A -1 A_Jump(256,"Spawn")
        SpawnSpanker:
            SOSP AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOSP A -1 A_Jump(256,"Spawn")
        SpawnToasty:
            SOFL AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOFL A -1 A_Jump(256,"Spawn")
        SpawnWMC:
            SOSP AAAAA 1 A_JumpIf(momz >> 0, "Jumping") // placeholder until wmc sprites exist
            SOSP A -1 A_Jump(256,"Spawn")
        SpawnAlienWeapon:
            SOAW AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOAW A -1 A_Jump(256,"Spawn")
        SpawnAlienWeapon2:
            SOA2 AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOA2 A -1 A_Jump(256,"Spawn")
        SpawnInstagib:
            SOAC AAAAA 1 A_JumpIf(momz >> 0, "Jumping")
            SOAC A -1 A_Jump(256,"Spawn")
            goto Spawn

        See:
            SOPL B 0 A_JumpIfInventory("UsingFists",1,"SeeFists")
            SOPL B 0 A_JumpIfInventory("UsingDualPistols",1,"SeeDualPistols")
            SOPL B 0 A_JumpIfInventory("UsingPistols",1,"SeePistol")
            SOPL B 0 A_JumpIfInventory("UsingSMG",1,"SeeSMG")
            SOPL B 0 A_JumpIfInventory("UsingPacifier",1,"SeePacifier")
            SOPL B 0 A_JumpIfInventory("UsingDualShotguns",1,"SeeDualShotguns")
            SOPL B 0 A_JumpIfInventory("UsingShotguns",1,"SeeShotgun")
            SOPL B 0 A_JumpIfInventory("UsingFusionPistol",1,"SeeFusionPistol")
            SOPL B 0 A_JumpIfInventory("UsingSpanker",1,"SeeSpanker")
            SOPL B 0 A_JumpIfInventory("UsingToasty",1,"SeeToasty")
            SOPL B 0 A_JumpIfInventory("UsingWMC",1,"SeeWMC")
            SOPL B 0 A_JumpIfInventory("UsingAlienWeapon",1,"SeeAlienWeapon")
            SOPL B 0 A_JumpIfInventory("UsingAlienWeapon2",1,"SeeAlienWeapon2")
            //SOPL B 0 A_JumpIfInventory("UsingMarathonInstagib",1,"SeeInstagib")
        SeeAssaultRifle: // default
            SOPL BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOPL B -1 A_Jump(256,"See")
        SeeFists:
            SOFS BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOFS B -1 A_Jump(256,"See")
        SeePistol:
            SOPS BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOPS B -1 A_Jump(256,"See")
        SeeDualPistols:
            SODP BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SODP B -1 A_Jump(256,"See")
        SeeSMG:
            SOMG BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOMG B -1 A_Jump(256,"See")
        SeePacifier:
            SOFP BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping") // placeholder until pacifier sprites exist
            SOFP B -1 A_Jump(256,"See")
        SeeShotgun:
            SOSG BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOSG B -1 A_Jump(256,"See")
        SeeDualShotguns:
            SDSG BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SDSG B -1 A_Jump(256,"See")
        SeeFusionPistol:
            SOFP BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOFP B -1 A_Jump(256,"See")
        SeeSpanker:
            SOSP BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOSP B -1 A_Jump(256,"See")
        SeeToasty:
            SOFL BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOFL B -1 A_Jump(256,"See")
        SeeWMC:
            SOSP BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping") // placeholder until wmc sprites exist
            SOSP B -1 A_Jump(256,"See")
        SeeAlienWeapon:
            SOAW BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOAW B -1 A_Jump(256,"See")
        SeeAlienWeapon2:
            SOA2 BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOA2 B -1 A_Jump(256,"See")
        SeeInstagib:
            SOAC BBBBBCCCCCDDDDDEEEEE 1 A_JumpIf(momz >> 0, "Jumping")
            SOAC B -1 A_Jump(256,"See")
            goto See

        Jumping:
            TNT1 A 0 A_JumpIfInventory("UsingFists",1,"JumpingFists")
            TNT1 A 0 A_JumpIfInventory("UsingDualPistols",1,"JumpingDualPistols")
            TNT1 A 0 A_JumpIfInventory("UsingPistols",1,"JumpingPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSMG",1,"JumpingSMG")
            TNT1 A 0 A_JumpIfInventory("UsingPacifier",1,"JumpingPacifier")
            TNT1 A 0 A_JumpIfInventory("UsingDualShotguns",1,"JumpingDualShotguns")
            TNT1 A 0 A_JumpIfInventory("UsingShotguns",1,"JumpingShotgun")
            TNT1 A 0 A_JumpIfInventory("UsingFusionPistol",1,"JumpingFusionPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSpanker",1,"JumpingSpanker")
            TNT1 A 0 A_JumpIfInventory("UsingToasty",1,"JumpingToasty")
            TNT1 A 0 A_JumpIfInventory("UsingWMC",1,"JumpingWMC")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon",1,"JumpingAlienWeapon")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon2",1,"JumpingAlienWeapon2")
            //TNT1 A 0 A_JumpIfInventory("UsingMarathonInstagib",1,"JumpingInstagib")
        JumpingAssaultRifle: // default
            SOPL CCC 1
            SOPL C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingFists:
            SOFS CCC 1
            SOFS C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingPistol:
            SOPS CCC 1
            SOPS C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingDualPistols:
            SODP CCC 1
            SODP C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingSMG:
            SOMG CCC 1
            SOMG C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingPacifier:
            SOFP CCC 1 // placeholder until pacifier sprites exist
            SOFP C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingShotgun:
            SOSG CCC 1
            SOSG C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingDualShotguns:
            SDSG CCC 1
            SDSG C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingFusionPistol:
            SOFP CCC 1
            SOFP C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingSpanker:
            SOSP CCC 1
            SOSP C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingToasty:
            SOFL CCC 1
            SOFL C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingWMC:
            SOSP CCC 1 // placeholder until wmc sprites exist
            SOSP C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingAlienWeapon:
            SOAW CCC 1
            SOAW C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingAlienWeapon2:
            SOA2 CCC 1
            SOA2 C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        JumpingInstagib:
            SOAC CCC 1
            SOAC C 1 A_JumpIf(momz >> 0, "Jumping")
            goto Spawn

        Missile:
            TNT1 A 0 A_JumpIfInventory("UsingFists",1,"MissileFists")
            TNT1 A 0 A_JumpIfInventory("UsingDualPistols",1,"MissileDualPistols")
            TNT1 A 0 A_JumpIfInventory("UsingPistols",1,"MissilePistol")
            TNT1 A 0 A_JumpIfInventory("UsingSMG",1,"MissileSMG")
            TNT1 A 0 A_JumpIfInventory("UsingPacifier",1,"MissilePacifier")
            TNT1 A 0 A_JumpIfInventory("UsingDualShotguns",1,"MissileDualShotguns")
            TNT1 A 0 A_JumpIfInventory("UsingShotguns",1,"MissileShotgun")
            TNT1 A 0 A_JumpIfInventory("UsingFusionPistol",1,"MissileFusionPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSpanker",1,"MissileSpanker")
            TNT1 A 0 A_JumpIfInventory("UsingToasty",1,"MissileToasty")
            TNT1 A 0 A_JumpIfInventory("UsingWMC",1,"MissileWMC")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon",1,"MissileAlienWeapon")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon2",1,"MissileAlienWeapon2")
            //TNT1 A 0 A_JumpIfInventory("UsingMarathonInstagib",1,"MissileInstagib")
        MissileAssaultRifle: // default
            SOPL F 12
            goto Spawn

        MissileFists:
            SOFS F 12
            goto Spawn

        MissilePistol:
            SOPS F 12
            goto Spawn

        MissileDualPistols:
            SODP FG 6
            goto Spawn

        MissileSMG:
            SOMG F 12
            goto Spawn

        MissilePacifier:
            SOFP F 12 // placeholder until pacifier sprites exist
            goto Spawn

        MissileShotgun:
            SOSG F 12
            goto Spawn

        MissileDualShotguns:
            SDSG FG 6
            goto Spawn

        MissileFusionPistol:
            SOFP F 12
            goto Spawn

        MissileSpanker:
            SOSP F 12
            goto Spawn

        MissileToasty:
            SOFL F 12
            goto Spawn

        MissileWMC:
            SOSP F 12 // placeholder until wmc sprites exist
            goto Spawn

        MissileAlienWeapon:
            SOAW F 12
            goto Spawn

        MissileAlienWeapon2:
            SOA2 F 12
            goto Spawn

        MissileInstagib:
            SOAC F 12
            goto Spawn

        Melee:
            TNT1 A 0 A_JumpIfInventory("UsingFists",1,"MeleeFists")
            TNT1 A 0 A_JumpIfInventory("UsingDualPistols",1,"MeleeDualPistols")
            TNT1 A 0 A_JumpIfInventory("UsingPistols",1,"MeleePistol")
            TNT1 A 0 A_JumpIfInventory("UsingSMG",1,"MeleeSMG")
            TNT1 A 0 A_JumpIfInventory("UsingPacifier",1,"MeleePacifier")
            TNT1 A 0 A_JumpIfInventory("UsingDualShotguns",1,"MeleeDualShotguns")
            TNT1 A 0 A_JumpIfInventory("UsingShotguns",1,"MeleeShotgun")
            TNT1 A 0 A_JumpIfInventory("UsingFusionPistol",1,"MeleeFusionPistol")
            TNT1 A 0 A_JumpIfInventory("UsingSpanker",1,"MeleeSpanker")
            TNT1 A 0 A_JumpIfInventory("UsingToasty",1,"MeleeToasty")
            TNT1 A 0 A_JumpIfInventory("UsingWMC",1,"MeleeWMC")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon",1,"MeleeAlienWeapon")
            TNT1 A 0 A_JumpIfInventory("UsingAlienWeapon2",1,"MeleeAlienWeapon2")
            //TNT1 A 0 A_JumpIfInventory("UsingMarathonInstagib",1,"MeleeInstagib")
        MeleeAssaultRifle: // default
            SOPL G 6 Bright
            goto MissileAssaultRifle

        MeleeFists:
            SOFS G 6 Bright
            goto MissileFists

        MeleePistol:
            SOPS G 6 Bright
            goto MissilePistol

        MeleeDualPistols:
            SODP FG 6 Bright
            goto MissileDualPistols

        MeleeSMG:
            SOMG G 6 Bright
            goto MissileSMG

        MeleePacifier:
            SOFP G 6 Bright // placeholder until pacifier sprites exist
            goto MissilePacifier

        MeleeShotgun:
            SOSG G 6 Bright
            goto MissileShotgun

        MeleeDualShotguns:
            SDSG FG 6 Bright
            goto MissileDualShotguns

        MeleeFusionPistol:
            SOFP G 6 Bright
            goto MissileFusionPistol

        MeleeSpanker:
            SOSP G 6 Bright
            goto MissileSpanker

        MeleeToasty:
            SOFL G 6 Bright
            goto MissileToasty

        MeleeWMC:
            SOSP G 6 Bright // placeholder until wmc sprites exist
            goto MissileWMC

        MeleeAlienWeapon:
            SOAW G 6 Bright
            goto MissileAlienWeapon

        MeleeAlienWeapon2:
            SOA2 G 6 Bright
            goto MissileAlienWeapon2

        MeleeInstagib:
            SOAC G 6 Bright
            goto MissileInstagib

		Pain.DoomCacodemon:
		Pain.HexSlaughtaur:
			SOPL Z 4 A_SetBlend("0EBFE9",0.8,8) // Diamond blue
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HereWizard:
		Pain.HexHeresiarchPurple:
			SOPL Z 4 A_SetBlend("5C246E",0.8,8) // Ultramarine violet
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HexBishop:
		Pain.DoomSpiderPlasma:
			SOPL Z 4 A_SetBlend("00FF66",0.8,8) // Neon avacado
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HexGreenFire:
		Pain.HexStalkerShot:
		Pain.DoomHellNoble:
		Pain.CorvusCrossbow:
		Pain.HereAxeGreen:
			SOPL Z 4 A_SetBlend("49E20E",0.8,8) // Nerf green
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HereNitrogolem:
			SOPL Z 4 A_SetBlend("E6B426",0.8,8) // Yellow chocolate
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.BJSpear:
			SOPL Z 4 A_SetBlend("FFEC8B",0.8,8) // Light goldenrod
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HereLichWind:
			SOPL Z 4 A_SetBlend("CDC9A5",0.8,8) // Lemon chiffon
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.HereDsparil:
		Pain.MarathonFusion:
		Pain.DoomPlasma:
			SOPL Z 4 A_SetBlend("0FDDAF",0.8,8) // Turquoise
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.DoomTheseGuysAreTheBest:
		Pain.Explosive:
		Pain.DukeExplosive:
		Pain.SpectralNoQuad:
		Pain.NotQuadded:
		Pain.StrifeExplosive:
		Pain.Yellow:
			SOPL Z 4 A_SetBlend("Yellow",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.CorvusHellstaff:
		Pain.CorvusHellstaffTomed:
		Pain.HereAxeRed:
			SOPL Z 4 A_SetBlend("8B0000",0.8,8) // Dark red
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.PunchDagger:
		Pain.Mace:
		Pain.DukeDamage:
		Pain.DukePistol:
		Pain.QuakePistol:
		Pain.Pistol:
		Pain.StrifePistol:	  	  
		Pain:
			SOPL Z 4 A_SetBlend("E3170D",0.8,8) // Cadmium red
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.TimonsAxe:
		Pain.DragonClaw:
		Pain.Blue:
			SOPL Z 4 A_SetBlend("Blue",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.BFG:
		Pain.BFGspray:
		Pain.BFGsplash:
			SOPL Z 4 A_SetBlend("7FFF00",0.8,8) // Chartreuse
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.ZorchPistol:
		Pain.Zorch:
		Pain.ZorchKamikaze:
		Pain.PhasingZorch:
		Pain.ZorchSpectral:
		Pain.Red:
			SOPL Z 4 A_SetBlend("Red",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.MarathonPlasma:
			SOPL Z 4 A_SetBlend("FF69AF",0.8,8) // Dry violet-red
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.WolfenFlamethrower:
		Pain.QuakeFire:
		Pain.FireExplosive:
		Pain.PhosFireCoop:	  
		Pain.Fire:
			SOPL Z 4 A_SetBlend("FF8C00",0.8,8) // Fiery orange
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Drowning:
		Pain.CorvusGrimBallista:
		Pain.White:
			SOPL Z 4 A_SetBlend("White",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.ElectricBolt:                
		Pain.HexenIce:
		Pain.DukeIce:
		Pain.Ice:
			SOPL Z 4 A_SetBlend("00FFFF",0.8,8) // Aqua
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Poison:
		Pain.PoisonBolt:	  	  
		Pain.PoisonCloud:
		Pain.Flem:
		Pain.Slime:
			SOPL Z 4 A_SetBlend("228B22",0.8,8) // Muck green
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Wraithverge:
		Pain.Gray:
		Pain.Grey:
			SOPL Z 4 A_SetBlend("33 33 33",0.8,8)  // Gray
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.MightyBoot:
			SOPL Z 1 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 24)
			TNT1 A 0 A_SetBlend("E3170D",0.8,8) // Cadmium red
			SOPL Z 1 A_PlaySoundEx("duke/kickhit","body",0,0)
			TNT1 A 0 A_Recoil(12)
			SOPL Z 6 A_Pain
			Goto See
		Pain.MarathonStun:
			TNT1 A 0 A_Stop
			SOPL Z 1 ACS_NamedExecuteAlways("SamsaraRecoil", 0, 25, 5, 100)
			TNT1 A 0 A_GiveInventory("NothingSpeed")
			TNT1 A 0 A_SetBlend("White",0.9,105)
			SOPL Z 1 A_PlaySoundEx("marathon/tech50/stun","body",0,0)
			SOPL Z 6 A_Pain
			Goto See
		Pain.Green:
			SOPL Z 4 A_SetBlend("00 8B 00",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Purple:
			SOPL Z 4 A_SetBlend("82 0B BB",0.8,8) // It's actually more of a violet, but...
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Brown:
			SOPL Z 4 A_SetBlend("5C 33 17",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Gold:
			SOPL Z 4 A_SetBlend("8B 75 00",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Black:
			SOPL Z 4 A_SetBlend("00 00 00",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Pink:
			SOPL Z 4 A_SetBlend("FF 6F F2",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Pain.Orange:
			SOPL Z 4 A_SetBlend("FF AA 00",0.8,8)
			SOPL Z 4 A_Pain
			Goto Spawn
		Death:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreDeathEffect")
			TNT1 A 0 A_TakeInventory("FusionChargan",7)
			TNT1 A 0 A_TakeInventory("FusionChargeLevel",35)
			SOPL N 6 
			SOPL O 6 A_PlayerScream
			SOPL P 6 A_NoBlocking
			SOPL Q 6
			SOPL S 6
			SOPL T -1
			Stop
		Death.MarathonFusion:
		XDeath:
			TNT1 A 0 A_TakeInventory("FusionChargan",7)
			TNT1 A 0 A_TakeInventory("FusionChargeLevel",35)
			//TNT1 A 0 ThrustThing(angle*256/360+(random(0,360)), random(2,8), 0, 0)
			TNT1 A 0 ThrustThingZ(0, random(8,24), 0, 0)
			TNT1 A 0 A_Recoil(random(1,3))
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_XScream
			SOPL H 5
		XDeath2:
			SOPL H 5 A_CheckFloor("XDeath3")
			loop
		XDeath3:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")
			SOPL I 4 A_PlaySound("*splat")
			SOPL J 4 A_NoBlocking
			SOPL KL 4
			SOPL M -1
			Stop
		CoopModeOn:
			TNT1 A 0
			TNT1 A 0 A_ChangeFlag("THRUSPECIES",1)
			TNT1 A 0 A_ChangeFlag("DONTBLAST",1)
			TNT1 A 1
			goto Spawn
		Death.ZorchPistol:
		Death.Zorch:
		Death.ZorchKamikaze:
		Death.PhasingZorch:
		Death.ZorchSpectral:
			"####" "#" 0 A_Stop
			"####" "#" 0 A_PlaySoundEx("chex/zorch","soundslot5",0,0)
			"####" "#" 3 A_SpawnItem("ZorchEffectSmall")
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 A_PlayerScream
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 A_UnsetSolid
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 3 A_SetTranslucent(0.4,0)
			"####" "#" 3 A_SetTranslucent(0.3,0)
			"####" "#" 3 A_SetTranslucent(0.2,0)
			"####" "#" 3 A_SetTranslucent(0.1,0)
			ACLO E 1 A_SetTranslucent(1,0)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:	  
		Death.MarathonPlasma:
		Burn:
			TNT1 A 0 A_TakeInventory("FusionChargan",7)
			TNT1 A 0 A_TakeInventory("FusionChargeLevel",35)
			TNT1 A 0 ThrustThingZ(0, random(4,20), 0, 0)
			TNT1 A 0 A_Recoil(random(1,3))
			TNT1 A 0 A_PlaySound("*burndeath")
			TNT1 A 0 A_UnsetSolid
			SOPL U 5 Bright
		Burn2:
			SOPL U 5 Bright A_CheckFloor("Burn3")
			loop
		Burn3:
			SOPL VWX 7 Bright
			SOPL Y -1
			stop
		Death.TotenkopfFire:
			TNT1 A 0 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItem("Totenkopf_BurningGuard")
			TNT1 A -1 A_UnsetSolid
			Stop		
		Death.DukeDamage:
		Death.DukePistol:
			"####" A 0 A_Jump(218,"Death")
			"####" A 0 A_GiveToTarget("DukeKillTaunt",1)
			goto Death
		Death.MightyBoot:
			"####" A 0 A_PlaySoundEx("duke/kickhit","body",0,0)
			"####" A 0 A_Jump(64,"Death")
			"####" A 0 A_GiveToTarget("DukeBootTaunt",1)
			goto Death
		Death.DukeExplosive:
			"####" A 0 A_JumpIfHealthLower(-3,"DukeGibStart")
		DukeGibStart:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnDebris("DukeGibs1")
			"####" A 0 A_SpawnDebris("DukeGibs2")
			"####" A 0 A_SpawnDebris("DukeGibs3")
			"####" A 0 A_SpawnDebris("DukeGibs4")
			"####" A 0 A_SpawnDebris("DukeGibs5")
			"####" A 0 A_SpawnDebris("DukeGibs6")
			"####" A 0 A_PlaySound("duke/enemygib")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			Goto XDeath
		Death.DukeIce:
			"####" "#" 0 A_Jump(218,"Ice")
			"####" "#" 0 A_GiveToTarget("DukeDMTaunt1",1)
		Ice:
		Death.HexenIce:
		Death.Ice:
			"####" "#" 0 ACS_NamedExecuteAlways("Samsara_PlayerFreezeTranslation")		  
			"####" "#" 0 A_PlayWeaponSound("misc/freeze")
			"####" "#" 0 A_UnsetSolid
			"####" "#" 70
			"####" "#" 0 A_SetTranslucent(0,0)
			"####" "######################################" 0 A_SpawnItemEx("IceChunk2",random(-1,1),random(-1,1),random(8,48),random(-2,2),random(-2,2),random(1,6))
			ACLO E 1 A_PlayWeaponSound("misc/icebreak")//A_FreezeDeathChunks
			TNT1 A -1
			Stop	
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoop
		ExpanderLoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPop")
			loop
		ExpanderPop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Basic",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeGibTaunt", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/expand")
			Goto ExpanderLoopCoop
		ExpanderLoopCoop:
			"####" "#" 1 A_SetScale(1.1*(user_scalex/65536.0)+((0.01*(user_scalex/65536.0))*CallACS("Samsara_Expander",1))+((0.01*(user_scalex/65536.0))*(CallACS("Samsara_Expander",1)-CallACS("Samsara_Expander",2)))*(CallACS("Samsara_Expander",3)*2),1.1*(user_scaley/65536.0)+((0.01*(user_scaley/65536.0))*CallACS("Samsara_Expander",2)))
			"####" "#" 0 A_GiveInventory("ExpanderGrowthX", 1)
			"####" "#" 0 A_JumpIf(ceilingz - (z + height + CallACS("Samsara_Expander",1) + 32) <= 0, 2)
			"####" "#" 0 A_GiveInventory("ExpanderGrowthY", 1)
			"####" "#" 0 A_GiveInventory("ExpanderDoubleX", 1)
			"####" "#" 0 A_JumpIfInventory("ExpanderGrowthX", 40, "ExpanderPopCoop")
			loop
		ExpanderPopCoop:	
			"####" "#" 10
			"####" A 0 A_SpawnItemEx("ExpanderExplosion_Coop",0,0,height*2,0,0,0,0,SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_PlaySound("duke/explosion", 6, 1.0)
			"####" A 1 ACS_NamedExecuteWithResult("SamsaraDecorate",36,2)
			"####" A 0 A_Jump(96,2)
			"####" A 0 A_GiveToTarget("DukeGibTaunt", 1)
			"####" A 0 A_SetScale (1.0, 1.0)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("DukeGibPopSpawner", 0, 0, height*2, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_GiveToTarget("DukeGibTaunt",1)
			TNT1 A -1 A_UnsetSolid
			Stop
		Pain.ShrinkerDMG:
			TNT1 A 0 A_ChangeFlag("NOPAIN",true)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",true)
			SOPL Z 0 ACS_NamedExecuteAlways("Samsara_PlayerShrinker")
			"####" "#" 0 A_SetUserVar("user_scalex", scalex*65536.0)
			"####" "#" 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 0 A_PlaySound("duke/shrink")
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 0 A_SpawnItemEx("MarathonPlayer_ShrinkEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_TRANSFERTRANSLATION)
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 4 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			TNT1 A 0 A_ChangeFlag("NOPAIN",false)
			TNT1 A 0 A_ChangeFlag("NODAMAGE",false)
			Goto Spawn
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
			"####" A 0 A_JumpIfHealthLower(-50, "XDeathForRanger")
			goto Death
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		XDeathForRanger:
			"####" A 0 A_SpawnItemEx("QuakeGibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			BLAN A -1 A_UnsetSolid
			Stop
		Death.RottExplosive:
			TNT1 A 0 A_SpawnItemEx("RottGibbedMan",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			TNT1 A 0 A_Jump(128,2)
			TNT1 A 0 A_GiveToTarget("LudicrousGibsItem", 1)
			BLAN A 1 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.RottFire:
			TNT1 A 0 A_UnsetSolid
			TNT1 A 0 A_SpawnItem("BurningSkeleton") 
			TNT1 A -1
			Stop
		Death.RottDisintegrate:
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_UnsetSolid
			TNT1 A 5 A_SpawnItem("RGodModeDeath")
			TNT1 A -1
			Stop
		Pain.Shock:
		Pain.Tesla:
			CBGS J 4 A_Pain
			CBGS J 4
			Goto See
		Pain.LifeLeech:
			TNT1 A 0 A_GiveToTarget("SerpentHealth", random(1,2))
			TNT1 A 0 A_GiveToTarget("HealthBonus",1)
			Goto Pain
		Death.CalebFire:
		Death.LifeLeech:
			TNT1 A 0 A_Jump(218, 2)
			TNT1 A 0 A_PlayerScream
			TNT1 A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			TNT1 A 0 A_PlaySoundEx("*falling",CHAN_VOICE,0,0)
			TNT1 A 0 A_SpawnItemEx("BloodBurningCorpse_Silent", 0, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION|SXF_SETMASTER)
			TNT1 A 0 A_UnsetSolid
			TNT1 A -1
			Stop
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:	  
		Death.Shock:	  	  
			"####" A 0 A_JumpIfHealthLower(-50, "XDeathForCaleb")
		Death.Tesla:
		Death.CalebBullet:
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("CalebDMTaunt1", 1)
			Goto Death
		XDeathForCaleb:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("CalebGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("CalebDMTaunt1",1)
			Goto XDeath
		Disintegrate:
			"####" "#" 0 A_UnsetSolid
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 0 A_PlayerScream
			"####" "#" 0 A_Stop
			"####" "#" 3 A_SpawnItem("DisintEffectSmall",0,10)
			"####" "#" 3 A_SetTranslucent(0.9,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.8,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.7,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.6,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 3 A_SetTranslucent(0.5,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.4,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.3,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.2,0)
			"####" "#" 0 ACS_NamedExecuteAlways("ExtraDeathFX",0,1)
			"####" "#" 2 A_SetTranslucent(0.1,0)
			TNT1 A -1
			Stop
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:	
			"####" A 0 A_JumpIfHealthLower(-5,"XDeathForCatBitch")
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("EleenaDMTaunt1", 1)
			Goto Death
		XDeathForCatBitch:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("EleenaGibTaunt",1)
			Goto XDeath		
		Death.Nuke:
			"####" "#" 0 A_ChangeFlag("SOLID", 0)
			"####" "#" 0 A_PlayerScream
			"####" "#" 0 A_UnsetSolid		
			"####" "#" 0 A_SpawnItem("WTNukeDeathSmall")
			"####" "#" 0 A_Stop
			"####" "#################" 3 A_Fadeout(0.05)
			TNT1 A -1
			Stop
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:	
			"####" A 0 A_JumpIfHealthLower(-20,1)
			goto Death
		Death.HLEgon:
		Death.FreemanGibs:
			"####" A 0 A_SpawnItemEx("UniversalBloodyHellGoreXDeathEffect",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION|SXF_USEBLOODCOLOR)
			"####" A 0 A_SpawnItemEx("HLGenericGibSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
			"####" A 0 A_UnsetSolid
			"####" A 5 A_FadeOut
			TNT1 A -1
			Stop
		Death.SWFist:
			"####" A 0 A_GiveToTarget("SWLoWangBloody", 1)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWFisted")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death	
		Death.SWKatana:
			"####" A 0 A_GiveToTarget("SWLoWangBloody", 1)
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWKatanad")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death	
		Death.SWShuriken:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_SpawnItemEx("SWShurikend")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death
		Death.SWSticky:
			Death.SWStickyCoop:	
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
			"####" A 0 A_JumpIfHealthLower(-3,"XDeathForWang")
		Death.SWBullet:	  
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("LoWangDMTaunt1", 1)
			goto Death
		XDeathForWang:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("SWHumanGibSpawner")	
			"####" A 0 A_Jump(218, "XDeath")	
			"####" A 0 A_GiveToTarget("LoWangDMTaunt2",1)
			Goto XDeath
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
			"####" A 0 A_JumpIfHealthLower(-30, "XDeathForJon")
		Death.PSBullet:
		Death.PSFire:	
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("JonDMTaunt1", 1)
			Goto Death
		Death.PSFire:
			"####" A 0 A_GiveToTarget("JonDMTaunt1", 1)
			Goto Burn
		XDeathForJon:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("PSGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("JonDMTaunt1",1)
			Goto XDeath	
		Death.LeonardDamage2:
		Death.LeonardDamage3:
			"####" A 0 A_JumpIfHealthLower(-20, "XDeathForLeonard")
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
			"####" A 0 A_Jump(218, "Death")
			"####" A 0 A_GiveToTarget("LeonardDMTaunt1", 1)
			Goto Death
		XDeathForLeonard:
			"####" A 0 A_UnsetSolid
			"####" A 0 A_SpawnItemEx("RRGibSpawner")
			"####" A 0 A_Jump(96,"XDeath")
			"####" A 0 A_GiveToTarget("LeonardGibTaunt",1)
			Goto XDeath
		Death.BittermanDamage:
			"####" A 0 A_JumpIfHealthLower(-50, "XdeathForBitterman")
			goto Death
		XDeathForBitterman:
			TNT1 A 0 A_SpawnItem("UniversalBloodyHellGoreXDeathEffect")	
			TNT1 A 5 A_SpawnItem(Q2GibSpawner)
			TNT1 A 1 A_CheckPlayerDone
			TNT1 A -1
			Stop
		Pain.Hexen2RavenDamage:
			"####" A 0 A_Jump(192,"Pain")
			"####" A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
			Goto Pain
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
			"####" A 0 A_JumpIfHealthLower(-50,"XDeathForDemoness")
			Goto Death
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		XDeathForDemoness:
			"####" A 0 A_Playsound("Hexen2/Gib", CHAN_5)
			"####" A 0 A_SpawnItemEx("Hexen2GibSpawner",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION|SXF_SETMASTER)
			"####" A 0 A_UnsetSolid
			TNT1 A -1
			Stop	
	}
}

Actor MarathonPlayer_Shrink : MarathonPlayer
{
	Player.ForwardMove 0.25
	Player.SideMove 0.25
	Player.MorphWeapon "ShrunkWeapon"
	Player.ViewHeight 8
	DamageFactor "ZorchPistol", 0.0
	DamageFactor "Zorch", 0.0
	DamageFactor "ZorchKamikaze", 0.0
	DamageFactor "PhasingZorch", 0.0
	DamageFactor "ZorchSpectral", 0.0
	MaxStepHeight 2
	Height 8
	Radius 4
	-SOLID
	+NOPAIN
	States
	{
		Spawn:
			SOPL A 1
			Loop
		See:
			SOPL BCDE 5
			Loop
		Death.PhosFireCoop:
		Death.HexGreenFire:
		Death.QuakeFire:
		Death.FireExplosive:
		Death.PGFire:
		Death.WTRangedFire:
		Death.WolfenFlamethrower:	  
		Death.MarathonPlasma:
		Burn:
		Death.TotenkopfFire:
		Death.DukeDamage:
		Death.DukePistol:
		Death.MightyBoot:
		Death.DukeExplosive:
		Death.DukeIce:
		Ice:
		Death.HexenIce:
		Death.Ice:
		Death.ExpanderDMG:
		XDeath.ExpanderDMG:
		Death.ExpanderDMGCoop:
		XDeath.ExpanderDMGCoop:
		Death.QuakeElectric:
		Death.NotQuadded:
		Death.QuakeExplosive:
		XDeath.QuakeElectric:
		XDeath.NotQuadded:
		XDeath.QuakeExplosive:
		Death.RottExplosive:
		Death.RottFire:
		Death.RottDisintegrate:
		Death.CalebFire:
		Death.LifeLeech:
		Death.CalebNapalm:
		Death.Vodoo:
		Death.VoodooPuff:
		Death.DynamiteCoop:
		Death.Dynamite:
		Death.Shock:  
		Death.Tesla:
		Death.CalebBullet:
		Disintegrate:
		Death.EradExplosive:
		Death.EradNova:
		Death.EradShock:
		Death.EradExplosive2:
		Death.EradDisc:
		Death.EradPiercingDart:
		Death.EradGreenFire:
		Death.EradCoopGreenFire:
		Death.Nuke:
		Death.HLLaser:
		Death.HLExplosive:
		Death.HLRPGExplosive:
		Death.HLEgon:
		Death.FreemanGibs:
		Death.SWFist:
		Death.SWKatana:
		Death.SWShuriken:
		Death.SWSticky:
		Death.SWStickyCoop:
		Death.SWGrenade:
		Death.SWNuke:
		Death.SWRocket:
		Death.SWRailgun:
		Death.SWRailgunCoop:
		Death.SWNukeCoop:
		Death.SWFlame:
		Death.SWFlame2:
		Death.SWFlame2Coop:
		Death.SWFlame3:	
		Death.SWBullet:
		Death.PSRAPower:
		Death.PSRAPowerCoop:
		Death.PSExplosive:
		Death.PSExplosiveCoop:
		Death.PSBullet:
		Death.PSFire:
		Death.PSFire:
		Death.LeonardDamage2:
		Death.LeonardDamage3:
		Death.LeonardDamage0:
		Death.LeonardDamage1:	
		Death.BittermanDamage:
		Death.Hexen2Damage:
		Death.Hexen2Fire:
		Death.Hexen2Electric:
		Death.Hexen2Extreme:
		Death.Hexen2ElectricExtreme:
		Death:
		XDeath:
		Death.Squish:
		XDeath.Squish:
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
		Death.DukeSquish:
		XDeath.DukeSquish:
			TNT1 A 0 A_GiveToTarget("DukeStomp", 1)
			TNT1 A 0 SetPlayerProperty(0,1,PROP_TOTALLYFROZEN)
			SOPL Z 15
			TNT1 A 0 A_Jump(64,2)
			TNT1 A 0 A_GiveToTarget("DukeBootTaunt",1)
			TNT1 A 0 SetPlayerProperty(0,0,PROP_TOTALLYFROZEN)
			TNT1 A 0 A_PlaySound("duke/enemygib", CHAN_BODY)
			TNT1 A 1 A_SpawnItemEx("DukeBloodPool",0,0,0,0,0,0,0,SXF_USEBLOODCOLOR|SXF_NOCHECKPOSITION)
			TNT1 A -1
			stop
	}
}

actor MarathonPlayer_ShrinkEffect : MarathonPlayer
{
	-ISMONSTER
	-COUNTKILL
	-SHOOTABLE
	-SOLID
	+NOINTERACTION
	-NOGRAVITY
	+CLIENTSIDEONLY	
	Renderstyle Translucent
	Alpha 0.4
	States
	{
		Spawn:
			SOPL Z 0
			SOPL Z 0 A_SetUserVar("user_scalex", scalex*65536.0)
			SOPL Z 0 A_SetUserVar("user_scaley", scaley*65536.0)
			"####" "#" 1 A_SetScale(0.95*(user_scalex/65536.0),0.95*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.9*(user_scalex/65536.0),0.9*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.85*(user_scalex/65536.0),0.85*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.8*(user_scalex/65536.0),0.8*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.75*(user_scalex/65536.0),0.75*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.7*(user_scalex/65536.0),0.7*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.65*(user_scalex/65536.0),0.65*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.6*(user_scalex/65536.0),0.6*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.55*(user_scalex/65536.0),0.55*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.5*(user_scalex/65536.0),0.5*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.45*(user_scalex/65536.0),0.45*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.4*(user_scalex/65536.0),0.4*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.35*(user_scalex/65536.0),0.35*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.3*(user_scalex/65536.0),0.3*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.25*(user_scalex/65536.0),0.25*(user_scaley/65536.0))
			"####" "#" 1 A_SetScale(0.2*(user_scalex/65536.0),0.2*(user_scaley/65536.0))
			Stop
	}
}

ACTOR MarathonFusionShotItem : CustomInventory
{
	-COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	Inventory.PickupMessage ""
	Inventory.PickupSound ""
	States
	{
		Spawn:
			TNT1 A 0 
			TNT1 A 1
			Stop
		Pickup:
			TNT1 A 0 A_CustomMissile("FusionSuper",25,0,random(-15,15),2,random(-10,10))
			TNT1 A 1
			Stop
	}
}

actor MarathonClass: Boolean {}
actor LeftReload: Boolean {}
actor RightReload: Boolean {}

actor MarathonPuff : BulletPuff
{
    RenderStyle ADD
    Alpha 1
    Scale 0.5
    SeeSound "puff/ric"
    +FLOORCLIP
    +NOEXTREMEDEATH
    +FORCEXYBILLBOARD
    //+CLIENTSIDEONLY - Enabling this has it spawn when the bullets hit bleeding objects. WAT?
    -SOLID
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 0 Bright A_PlaySound("puff/ric")
        MPFF ABCDEFG 2 Bright
        stop
    }
}

actor SamsaraMarathonCasingSoundHandler : Trigger
{
    States
    {
      Pickup:
        TNT1 A 0 A_JumpIfInventory("MarathonCasingSound",0,"PickupPlaySound")
      PickupFinish:
        TNT1 A 0 A_TakeInventory("MarathonCasingSound")
        stop

      PickupPlaySound:
        TNT1 A 0 A_PlaySound("marathon/casings")
        goto PickupFinish
    }
}
