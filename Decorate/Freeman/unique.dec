Actor HLSqueakSpawned : HLBoolean {}
Actor HLSqueakHitWall : HLBoolean {}
Actor HLSqueakIsEvil : HLBoolean {}
Actor HLSqueak
{
	MONSTER
	-SOLID
	-TELESTOMP
	-TELEPORT
	-COUNTKILL
	+FRIENDLY
	+FLOORCLIP
	+THRUSPECIES
	+DROPOFF
	+LOOKALLAROUND
	+NEVERFAST
	Species "Squeak"
	ReactionTime 500
	Gravity 0.8
	Health 13
	Radius 9
	Height 15
	Mass 50
	Speed 7
	Tag "Snark"
	SeeSound "halflife/squeak_active"
	ActiveSound "halflife/squeak_active"
	DeathSound "halflife/squeak_die"
	Obituary "%o was killed by a squeak."
	BloodColor "99 FF 33"
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("HLSqueakSpawned",1,"SpawnDeploy")
		TNT1 A 0 A_GiveInventory("HLSqueakSpawned",1)
		TNT1 A 0 A_PlaySound("halflife/squeak_deploy",CHAN_BODY)
		HL03 ABCDEFGH 2 A_Recoil(-1)
		goto SpawnDeploy
	SpawnDeploy:
		TNT1 A 0 A_LookEx(LOF_NOSOUNDCHECK,0,512)
		TNT1 A 0 A_CountDown
		HL00 ABCD 1 A_Recoil(-1)
		HL00 E 0 A_CustomMissile("HLSqueakCheckHitObject",3,0,0,CMF_AIMDIRECTION,0)
		HL00 EFGH 1 A_Recoil(-1)
		HL00 I 0 A_JumpIfInventory("HLSqueakHitWall",1,"SpawnFlip")
		HL00 I 0 A_LookEx(LOF_NOSOUNDCHECK,0,512)
		HL00 IJKL 1 A_Recoil(-1)
		HL00 M 0 A_CustomMissile("HLSqueakCheckHitObject",3,0,0,CMF_AIMDIRECTION,0)
		HL00 MNOP 1 A_Recoil(-1)
		HL00 A 0 A_JumpIfInventory("HLSqueakHitWall",1,"SpawnFlip")
		loop
	SpawnFlip:
		TNT1 A 0 A_SetAngle(angle+180)
		//TNT1 A 0 A_ChangeFlag("FRIENDLY",0)
		//TNT1 A 0 A_GiveInventory("HLSqueakIsEvil",1)
		TNT1 A 0 A_TakeInventory("HLSqueakHitWall",999)
		goto SpawnDeploy
	See:
		HL02 ABCDEFGH 1 A_Chase
		HL02 A 0 A_ChangeFlag("FRIENDLY",0)
		TNT1 A 0 A_GiveInventory("HLSqueakIsEvil",1)
		TNT1 A 0 A_CountDown
		loop
	Melee:
		TNT1 A 0 A_JumpIfInventory("HLSqueakIsEvil",1,2)
		TNT1 A 0 A_ChangeFlag("FRIENDLY",1) //Keep seeking targets if enemy successfully attacked
		HL00 A 0 A_FaceTarget
		HL00 A 0 A_CustomMeleeAttack(30,"halflife/squeak_attack","halflife/squeak_attack","HLSqueak",1)
		HL00 A 0 A_Stop
		HL00 ABCD 1 ThrustThingZ(0,7,0,1)
		HL00 EFGHIJKLM 1 A_Recoil(random(10.0,15.0)/10.0)
		HL00 A 0 A_CountDown
		goto See
	Death:
	XDeath:
		TNT1 A 0 A_Scream
		TNT1 A 5 A_SpawnItemEx("HLSqueakSplat",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		stop
	}
}

Actor HLSqueakCoop : HLSqueak
{
	Species "Player"
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+MTHRUSPECIES
	ReactionTime 2450	
	Speed 14	
	Health 1550	
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("HLSqueakSpawned",1,"SpawnDeploy")
		TNT1 A 0 A_GiveInventory("HLSqueakSpawned",1)
		TNT1 A 0 A_PlaySound("halflife/squeak_deploy",CHAN_BODY)
		HL03 ABCDEFGH 2 A_Recoil(-1)
		goto SpawnDeploy
	SpawnDeploy:
		TNT1 A 0 A_LookEx(LOF_NOSOUNDCHECK,0,512)
		TNT1 A 0 A_CountDown
		HL00 ABCD 1 A_Recoil(-1)
		HL00 E 0 A_CustomMissile("HLSqueakCheckHitObjectCoop",3,0,0,CMF_AIMDIRECTION,0)
		HL00 EFGH 1 A_Recoil(-1)
		HL00 I 0 A_JumpIfInventory("HLSqueakHitWall",1,"SpawnFlip")
		HL00 I 0 A_LookEx(LOF_NOSOUNDCHECK,0,512)
		HL00 IJKL 1 A_Recoil(-1)
		HL00 M 0 A_CustomMissile("HLSqueakCheckHitObjectCoop",3,0,0,CMF_AIMDIRECTION,0)
		HL00 MNOP 1 A_Recoil(-1)
		HL00 A 0 A_JumpIfInventory("HLSqueakHitWall",1,"SpawnFlip")
		loop
	SpawnFlip:
		TNT1 A 0 A_SetAngle(angle+180)
		TNT1 A 0 A_TakeInventory("HLSqueakHitWall",999)
		goto SpawnDeploy
	See:
		HL02 ABCDEFGH 1 A_Chase
		HL02 A 0 A_CountDown
		loop
	Melee:
		HL00 A 0 A_FaceTarget
		HL00 A 0 A_CustomMeleeAttack(30,"halflife/squeak_attack","halflife/squeak_attack","HLSqueak",1)
		HL00 A 0 A_Stop
		HL00 ABCD 1 ThrustThingZ(0,7,0,1)
		HL00 EFGHIJKLM 1 A_Recoil(random(10.0,15.0)/10.0)
		HL00 A 0 A_CountDown
		goto See
	Death:
	XDeath:
		TNT1 A 0 A_Scream
		TNT1 A 0 A_Explode(15,15)
		TNT1 A 1 A_SpawnItemEx("HLSqueakSplat",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		stop
	}
}

Actor HLSqueakSplat
{
	+CLIENTSIDEONLY
	+NOINTERACTION
	-SOLID
	+NOBLOCKMAP
	scale 0.75
	states
	{
	Spawn:
		HGB9 ABCDEFGHIJ 1
		stop
	}
}

Actor HLSqueakCheckHitObject : BulletPuff
{
	Radius 4
	height 6
	Speed 30
	PROJECTILE
	+PUFFGETSOWNER
	+PUFFONACTORS
	+BLOODLESSIMPACT
	+NOBLOODDECALS
	+THRUSPECIES
	species "Squeak"
	States
	{
	Spawn:
		TNT1 A 1
		stop
	Death:
		TNT1 A 3 A_GiveToTarget("HLSqueakHitWall", 1)
		Stop
	}
}

Actor HLSqueakCheckHitObjectCoop : HLSqueakCheckHitObject
{
	species "Player"
	+THRUSPECIES
	+DONTHARMCLASS
	+DONTHARMSPECIES
	+MTHRUSPECIES
}

Actor freeman_uniqueselected : Inventory
{
	Inventory.MaxAmount 1
	Inventory.InterhubAmount 0
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor freeman_holdscope : Inventory
{
	Inventory.MaxAmount 8
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor "HL Squeaks" : HLWeapon
{
	Weapon.Slotnumber 9
	Weapon.SelectionOrder 1600
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.75
	Weapon.BobSpeed 1.4
	Weapon.BobStyle Alpha 
	Inventory.Pickupmessage "You found some squeaks!"
	Inventory.Pickupsound "halflife/weaponpickup"
	Weapon.AmmoType1 "HLSqueakAmmo"
	Weapon.AmmoGive1 5
	Weapon.AmmoUse1 1
	Weapon.AmmoType2 "RocketAmmo"
	Weapon.AmmoGive2 3
	//Weapon.AmmoUse2 1
	Tag "Squeaks"
	Inventory.RestrictedTo "HalfLifePlayer"	
	states
	{
	Spawn:
		HWU0 ABCDEFGHIJKLMNO 2 bright
		loop
	Select:
		TNT1 A 0 A_TakeInventory("freeman_fistselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_pistolselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot1selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot2selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot3selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot4selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot6selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot7selected",1)		
		TNT1 A 0 A_TakeInventory("freeman_slot5selected",1)
		TNT1 A 0 A_TakeInventory("freeman_unique2selected",1)	
		TNT1 A 0 A_GiveInventory("freeman_uniqueselected",1)	
		Goto SelectLoop
	SelectLoop:	
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 A 1 A_Raise
		loop
	Deselect:
		TNT1 A 0 A_TakeInventory("HLGrenadeFuse",105)
		TNT1 A 0 A_TakeInventory("freeman_uniqueselected",1)
		Goto DeselectLoop
	DeselectLoop:		
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		TNT1 A 1 A_Lower
		loop
	Ready:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyOpp")
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		HW39 WXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		HW40 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		HW41 ABCDEFGHIJKLMNOPQRST 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)		
		goto WIdle
	ReadyOpp:
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		OP13 BCEFGHIJKLMNO 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)	
		goto WIdle
	WIdle:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"WIdleOpp")
		TNT1 A 0 A_TakeInventory("HLGrenadeFuse",105)
		TNT1 A 0 A_JumpIfInventory("HLSqueakAmmo",1,1)
		Goto NoSqueaks
		HW32 BCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		HW33 ABCDE 1 A_WeaponReady 
		TNT1 A 0 A_Jump(5,"WIdle")
		TNT1 A 0 A_Jump(4,"WIdle")
		TNT1 A 0 A_Jump(3,"WIdle")
		TNT1 A 0 A_Jump(2,"WIdle")
		TNT1 A 0 A_Jump(1,"WIdle")		
		TNT1 A 0 A_Jump(20,"WIdle2","WIdle3")
		goto WIdle
	WIdle2:
		HW39 A 1 A_WeaponReady
		HW35 YZ 1 A_WeaponReady
		HW36 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		HW37 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		HW38 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		goto WIdle
	WIdle3:
		HW33 FGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		HW34 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		HW35 ABCDEFGHIJKLMNOPQRSTUVWX 1 A_WeaponReady
		HW35 WVUTSRQPONMLKJIHGFEDCBA 1 A_WeaponReady		
		HW34 ZYXWVUTSRQPONMLKJIHGFEDCBA 1 A_WeaponReady				
		HW33 ZYXWVUTSRQPONMLKJIHGF 1 A_WeaponReady				
		goto WIdle
	NoSqueaks:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"NoGrenades")
		TNT1 A 0 A_JumpIfInventory("HLSqueakAmmo",1,"Ready")
		TNT1 A 2 A_WeaponReady(WRF_NOPRIMARY)
		Loop
	NoGrenades:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,1)
		Goto NoSqueaks+1
		TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,"ReadyOpp")
		TNT1 A 2 A_WeaponReady(WRF_NOPRIMARY)
		Loop
	WIdleOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,1)
		Goto WIdle+1
		TNT1 A 0 A_JumpIfInventory("RocketAmmo",1,1)
		Goto NoGrenades
		OP00 A 2 A_WeaponReady
		TNT1 A 0 A_Jump(5,"WIdleOpp")
		TNT1 A 0 A_Jump(4,"WIdleOpp")
		TNT1 A 0 A_Jump(3,"WIdleOpp")
		TNT1 A 0 A_Jump(2,"WIdleOpp")
		TNT1 A 0 A_Jump(1,"WIdle2Opp","WIdle3Opp")
		goto WIdleOpp
	WIdle2Opp:
		OP00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP01 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP02 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP03 ABCDEFGHIJKL 1 A_WeaponReady
		goto WIdleOpp
	WIdle3Opp:
		OP04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP05 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP06 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady
		OP07 ABCDEFGHIJKL 1 A_WeaponReady
		goto WIdleOpp
	Fire:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireOpp")
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoop")
		HW41 UVWXYZ 1
		TNT1 A 0 A_SpawnItemEx("HLSqueak",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)		
		goto FireFinish
	FireCoop:
		HW41 UVWXYZ 1
		TNT1 A 0 A_SpawnItemEx("HLSqueakCoop",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)		
		goto FireFinish
	FireFinish:
		HW42 ABCDEFGHIJ 1
		TNT1 A 0 A_TakeInventory("HLSqueakAmmo", 1, TIF_NOTAKEINFINITE)
		TNT1 A 0 A_JumpIfInventory("HLSqueakAmmo", 1, "WIdle")
		Goto NoSqueaks
	FireOpp:
		TNT1 A 0 A_TakeInventory("HLGrenadeFuse",105)
		OP08 ABCDEFGHIJKLMNOPQRSTUVWX 1
		TNT1 A 0 A_GiveInventory("HLGrenadeFuse",105)
		TNT1 A 0 A_TakeInventory("RocketAmmo",1,TIF_NOTAKEINFINITE)
		goto FireLoopOpp
	FireLoopOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce", 1, 1)
		Goto WIdle+1
		TNT1 A 0 A_TakeInventory("HLGrenadeFuse",1)
		TNT1 A 1 
		TNT1 A 0 A_Refire("FireLoopOpp")
		TNT1 A 0 A_WeaponReady(WRF_NOPRIMARY)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireFinishCoopOpp")
		Goto FireFinishOpp
	FireFinishOpp:
		TNT1 A 0 A_FireCustomMissile("HLShephardGrenade",0,0,4)	
		TNT1 A 0 A_Jump(256,"Throw1","Throw2","Throw3")
		Goto Throw1
	FireFinishCoopOpp:
		TNT1 A 0 A_FireCustomMissile("HLShephardGrenadeCoop",0,0,4)	
		TNT1 A 0 A_Jump(256,"Throw1","Throw2","Throw3")
		Goto Throw1
	Throw1:
		OP09 ABCDEFGHIJKLMNOPQR 1
		Goto WIdle
	Throw2:
		OP10 ABCDEFGHIJKLMNOPQR 1
		Goto WIdle
	Throw3:
		OP11 ABCDEFGHIJKLMNOPQR 1
		Goto WIdle
	}
}

Actor HLShephardGrenade {
    Radius 8
    Height 8
    Speed 8
    PROJECTILE
	-NOGRAVITY
	+BOUNCEONWALLS
	+BOUNCEONFLOORS
	+BOUNCEONCEILINGS
	+BOUNCEONACTORS
	+ALLOWBOUNCEONACTORS
	Scale 0.75
	BounceCount 3
	BounceSound "HECU/Grenade/Bounce"
	WallBounceSound "HECU/Grenade/Bounce"	
	Damage (0)
    DamageType "HLExplosive"
	Gravity 0.234	
    States {
    Spawn:
		TNT1 A 0
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeGrenadeFuse")
		TNT1 A 0 ThrustThingZ(0,15,0,1)
		TNT1 A 0 A_Jump(128,"SpawnLoop2")
	SpawnLoop1:	
      	HL23 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
      	HL24 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
      	HL25 ABCDEFGHI 2 Bright	A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
        Loop
	SpawnLoop2:	
      	HL26 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
      	HL27 ABCDEFGHIJKLMNOPQRSTUVWXYZ 2 Bright A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
      	HL28 ABCDEFGHI 2 Bright	A_JumpIf(momx == 0 && momy == 0 && momz == 0, "OnFloor")
        Loop	
	OnFloor:
		TNT1 A 0 A_CheckFloor(1)
		Goto Death+1
		HL29 A 1
		Loop
    Death:
	XDeath:
		TNT1 A 0 A_JumpIfInventory("HLGrenadeFuse",1,"OnFloor")
		TNT1 A 0 A_PlaySound("halflife/mp5_grenadehit",CHAN_BODY)
		TNT1 A 0 A_Explode(300,124,0,true)
		TNT1 A 5 A_SpawnItemEx("HLExplosionBoom",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
        Stop
    }
}

Actor HLShephardGrenadeCoop : HLShephardGrenade 
{
    Species "Player"
	+THRUSPECIES
	+DONTHURTSPECIES
	+DONTHARMSPECIES
	+MTHRUSPECIES
}

Actor HLGrenadeFuse : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.MaxAmount 105
}

Actor freeman_unique2selected : Inventory
{
	Inventory.MaxAmount 1
	Inventory.InterhubAmount 0
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor freeman_unique3selected : Inventory
{
	Inventory.MaxAmount 1
	Inventory.InterhubAmount 0
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor HLXBowIsZoomed : Inventory
{
	Inventory.MaxAmount 1
	+INVENTORY.IGNORESKILL
	+INVENTORY.UNDROPPABLE
	-INVENTORY.INVBAR
}

Actor HLXBowAmmoCounter : Ammo
{
	+INVENTORY.IGNORESKILL
	Inventory.Amount 1
	Inventory.MaxAmount 5
}

Actor "HL Crossbow" : HLWeapon
{
	Weapon.Slotnumber 8
	Weapon.SelectionOrder 1500
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.75
	Weapon.BobSpeed 1.4
	Weapon.BobStyle Alpha 
	Inventory.Pickupmessage "You found a crossbow!"
	Inventory.Pickupsound "halflife/weaponpickup"
	Weapon.AmmoType1 "HLXBowAmmoCounter"
	Weapon.AmmoUse1 0
	Weapon.AmmoGive1 5
	Weapon.AmmoType2 "Shell"
	Weapon.AmmoUse2 0
	Weapon.AmmoGive2 20
	+WEAPON.NOAUTOFIRE
	+WEAPON.NOAUTOAIM
	Tag "Crossbow"
	Inventory.RestrictedTo "HalfLifePlayer"	
	states
	{
	Spawn: 
		HW30 Z -1
		stop
	Select:
		TNT1 A 0 A_TakeInventory("freeman_fistselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_pistolselected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot1selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot2selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot3selected",1)	
		TNT1 A 0 A_TakeInventory("freeman_slot4selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot6selected",1)
		TNT1 A 0 A_TakeInventory("freeman_slot7selected",1)		
		TNT1 A 0 A_TakeInventory("freeman_slot5selected",1)
		TNT1 A 0 A_TakeInventory("freeman_uniqueselected",1)
		TNT1 A 0 A_GiveInventory("freeman_unique2selected",1)				
	SelectLoop:	
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 A 1 A_Raise
		loop
	Deselect:
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 2)
		TNT1 A 0 A_Jump(256,3)
		TNT1 A 0 A_TakeInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		TNT1 A 0 A_TakeInventory("freeman_unique2selected",1)
	DeselectLoop:		
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		TNT1 A 1 A_Lower
		loop
	Ready:
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReadyOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "WIdleZoomed")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",1,3)
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		Goto Ready2
		TNT1 A 0
		Goto Reload
		HW59 WXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		HW60 ABCDEFGHIJK 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		TNT1 A 0
		goto WIdle
	ReadyOpp:
		TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "WIdleZoomed")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",1,3)
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		Goto Ready2
		TNT1 A 0
		Goto Reload
		OP00 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		OP01 ABCD 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		TNT1 A 0
		goto WIdle
	Ready2:
		HW60 MNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		HW61 AB 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
		TNT1 A 0
		goto WIdle2_Ammoless
	WIdle:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "WIdleZoomed")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",1,3)
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		Goto WIdle_Ammoless
		TNT1 A 0
		Goto Reload
		HW32 A 8 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("Freeman_HoldAlt") == 1, "AltFire")
		TNT1 A 0 A_Jump(4,"WIdle")
		TNT1 A 0 A_Jump(3,"WIdle")
		TNT1 A 0 A_Jump(2,"WIdle")
		TNT1 A 0 A_Jump(1,"WIdle2","WIdle3")
		goto WIdle
	WIdleZoomed:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"UnZoom")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 1)
		Goto WIdle	
		TNT1 A 8 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("Freeman_HoldAlt") == 1, "AltFire")
		Loop
	WIdle_AmmoLessZoomed:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"UnZoom")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 1)
		Goto WIdle_Ammoless
		TNT1 A 8 A_WeaponReady(WRF_ALLOWRELOAD)
		Loop
	WIdle2:
		HW32 BCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW33 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW34 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW35 ABCDEFGHIJKLM 1 A_WeaponReady(WRF_ALLOWRELOAD)
		goto WIdle		
	WIdle3:
		HW36 STUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW37 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW38 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW39 ABCDEFGHIJKLMNOPQRSTU 1 A_WeaponReady(WRF_ALLOWRELOAD)
		goto WIdle
	WIdle_Ammoless:
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "WIdle_AmmoLessZoomed")
		HW35 N 8 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("Freeman_HoldAlt") == 1, "AltFire")
		TNT1 A 0 A_Jump(240,"WIdle2_Ammoless")
		goto Reload3
	WIdle2_Ammoless:
		HW35 OPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW36 ABCDEFGHIJKLMNOPQR 1 A_WeaponReady(WRF_ALLOWRELOAD)
		goto WIdle_Ammoless	
	WIdleOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,1)
		Goto WIdle
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "WIdleZoomedOpp")
		OP02 A 8 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 A 0 A_Jump(4,"WIdleOpp")
		TNT1 A 0 A_Jump(3,"WIdleOpp")
		TNT1 A 0 A_Jump(2,"WIdleOpp")
		TNT1 A 0 A_Jump(1,"WIdle2Opp","WIdle3Opp")
		goto WIdleOpp
	WIdleZoomedOpp:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,1)
		Goto WIdle
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 1)
		Goto UnZoom
		OP02 A 8 A_WeaponReady(WRF_ALLOWRELOAD)
		Loop
	WIdle2Opp:
		OP02 BCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP03 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP04 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP05 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady(WRF_ALLOWRELOAD)
		goto WIdleOpp		
	WIdle3Opp:
		OP22 BCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP23 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP24 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		OP25 ABCDEFGHIJKLMNOPQRSTUV 1 A_WeaponReady(WRF_ALLOWRELOAD)
		goto WIdleOpp
	Fire:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"FireOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "FireZoomed")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 2, 1)
		Goto FireLast
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoop")
		HW43 A 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		HW43 IJKLM 1
		HW43 N 0 A_FireCustomMissile("HLXbowBolt", 0, 0, 4)
		HW43 N 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW43 NOPQR 1
		HW43 S 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireFinish
	FireZoomed: // I'm just a lazy ass is what it is
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 2, 1)
		Goto FireLastZoomed
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireZoomedCoop")
		TNT1 A 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		TNT1 IJKLM 1
		TNT1 N 0 A_FireCustomMissile("HLXbowBolt", 0, 0, 4)
		TNT1 N 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		TNT1 NOPQR 1
		TNT1 S 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireFinishZoomed
	FireCoop:
		HW43 A 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		HW43 IJKLM 1
		HW43 N 0 A_FireCustomMissile("HLXbowBoltCoop", 0, 0, 4)
		HW43 N 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW43 NOPQR 1
		HW43 S 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireFinish
	FireZoomedCoop: // I'm just a lazy ass is what it is
		TNT1 A 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		TNT1 IJKLM 1
		TNT1 N 0 A_FireCustomMissile("HLXbowBoltCoop", 0, 0, 4)
		TNT1 N 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		TNT1 NOPQR 1
		TNT1 S 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireFinishZoomed
	FireFinish:
		HW43 STUVWXYZ 1
		HW44 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 1, 1)
		goto Reload
		HW44 ACEGIKM 1
		HW44 OQSUWY 1 A_Refire
		HW45 ACEGIKM 1 A_WeaponReady(WRF_NOBOB)
		HW45 OQSUWY 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW46 ACEGIKMOQSUWY 1 A_Refire	
		HW47 ACEGIKM 1 A_Refire
		TNT1 A 0 A_Refire
		goto WIdle
	FireFinishZoomed:
		TNT1 STUVWXYZ 1
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 1, 1)
		goto Reload
		TNT1 ACEGIKM 1
		TNT1 OQSUWY 1 A_Refire
		TNT1 ACEGIKM 1 A_WeaponReady(WRF_NOBOB)
		TNT1 OQSUWY 1 A_WeaponReady(WRF_ALLOWRELOAD)
		TNT1 ACEGIKMOQSUWY 1	A_Refire	
		TNT1 ACEGIKM 1 A_Refire
		TNT1 A 0 A_Refire
		goto WIdle
	FireLast:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 1, 2)
		TNT1 A 0 A_PlaySound("halflife/weaponempty",CHAN_WEAPON)
		Goto Reload
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoopLast")
		HW53 Y 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		HW53 YZ 1
		HW54 BCD 1
		HW54 E 0 A_FireCustomMissile("HLXbowBolt", 0, 0, 4)
		HW54 E 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW54 E 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireLastReload
	FireLastZoomed:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 1, 1)
		Goto Reload
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoopLastZoomed")
		TNT1 Y 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		TNT1 YZ 1
		TNT1 BCD 1
		TNT1 E 0 A_FireCustomMissile("HLXbowBolt", 0, 0, 4)
		TNT1 E 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		TNT1 E 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireLastReload
	FireCoopLast:
		HW53 Y 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		HW53 YZ 1
		HW54 BCD 1
		HW54 E 0 A_FireCustomMissile("HLXbowBoltCoop", 0, 0, 4)
		HW54 E 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW54 E 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireLastReload
	FireCoopLastZoomed:
		TNT1 Y 0 A_PlaySound("HLXBow/Fire", CHAN_WEAPON)
		TNT1 YZ 1
		TNT1 BCD 1
		TNT1 E 0 A_FireCustomMissile("HLXbowBoltCoop", 0, 0, 4)
		TNT1 E 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		TNT1 E 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireLastReload
	FireLastReload:
		HW54 E 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"WIdle")
		HW54 E 0 A_JumpIfInventory("Shell",2,"Reload2Success")
		goto WIdle
	FireOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 2, 1)
		Goto FireLastOpp
		OP06 A 1
		OP06 B 0 A_PlaySound("HLM40a1/Fire", CHAN_WEAPON)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoopOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed",1,"FireZoomedOpp")
		TNT1 A 0 A_FireCustomMissile("HLM40A1Bullet", 0, 0, 4)
		//TNT1 A 0 A_FireBullets(0,0,1,150,"HLM40A1Puff", FBF_NORANDOM|FBF_NORANDOMPUFFZ)
		Goto FireFinishOpp
	FireZoomedOpp:
		//TNT1 A 0 A_FireCustomMissile("HLM40A1BulletZoomed", 0, 0, 0, 0, 0, 0.25)
		TNT1 A 0 A_FireBullets(-1,0,1,1,"HLM40A1PuffZoomed", FBF_NORANDOM|FBF_NORANDOMPUFFZ|FBF_EXPLICITANGLE)
		Goto FireFinishOpp
	FireCoopOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed",1,"FireZoomedCoopOpp")
		TNT1 A 0 A_FireCustomMissile("HLM40A1BulletCoop", 0, 0, 4)
		//TNT1 A 0 A_FireBullets(0,0,1,150,"HLM40A1PuffCoop", FBF_NORANDOM|FBF_NORANDOMPUFFZ)
		Goto FireFinishOpp
	FireZoomedCoopOpp:
		//TNT1 A 0 A_FireCustomMissile("HLM40A1BulletZoomedCoop", 0, 0, 0, 0, 0, 0.25)
		TNT1 A 0 A_FireBullets(-1,0,1,1,"HLM40A1PuffZoomedCoop", FBF_NORANDOM|FBF_NORANDOMPUFFZ|FBF_EXPLICITANGLE)
		Goto FireFinishOpp
	FireFinishOpp:
		OP06 BCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP07 ABCD 1
		OP07 E 0 A_PlaySound("HLM40a1/Bolt1", CHAN_5)
		OP07 EFGHIJKLMNOPQRSTUVWXYZ 1
		OP08 ABCDEFGHIJKLMNO 1
		goto WIdleOpp
	FireLastOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter", 1, 2)
		TNT1 A 0 A_PlaySound("halflife/weaponempty",CHAN_WEAPON)
		Goto Reload
		OP09 A 1
		OP09 B 0 A_PlaySound("HLM40a1/Fire", CHAN_WEAPON)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		TNT1 A 0 A_JumpIfInventory("CoopModeOn",1,"FireCoopLastOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed",1,"FireZoomedLastOpp")
		TNT1 A 0 A_FireCustomMissile("HLM40A1Bullet", 0, 0, 4)
		//TNT1 A 0 A_FireBullets(0,0,1,150,"HLM40A1Puff", FBF_NORANDOM|FBF_NORANDOMPUFFZ)
		Goto FireFinishLastOpp
	FireZoomedLastOpp:
		//TNT1 A 0 A_FireCustomMissile("HLM40A1BulletZoomed", 0, 0, 0, 0, 0, 0.25)
		TNT1 A 0 A_FireBullets(1,0,1,1,"HLM40A1PuffZoomed", FBF_NORANDOM|FBF_NORANDOMPUFFZ|FBF_EXPLICITANGLE)
		Goto FireFinishLastOpp
	FireFinishLastOpp:
		OP09 BCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP10 ABCD 1
		OP10 E 0 A_PlaySound("HLM40a1/Bolt2", CHAN_5)
		OP10 EFGHIJKLMNOPQRSTUVWXYZ 1
		OP11 ABCDEFGHIJKLMNO 1
		TNT1 A 0 A_TakeInventory("HLXBowAmmoCounter", 1)
		Goto FireLastReloadOpp
	FireCoopLastOpp:
		TNT1 A 0 A_FireCustomMissile("HLM40A1BulletCoop", 0, 0, 4)
		//TNT1 A 0 A_FireBullets(0,0,1,150,"HLM40A1PuffCoop", FBF_NORANDOM|FBF_NORANDOMPUFFZ)
		Goto FireFinishLastOpp
	FireCoopLastZoomedOpp:
		//TNT1 A 0 A_FireCustomMissile("HLM40A1BulletZoomedCoop", 0, 0, 0, 0, 0, 0.25)
		TNT1 A 0 A_FireBullets(1,0,1,1,"HLM40A1PuffZoomedCoop", FBF_NORANDOM|FBF_NORANDOMPUFFZ|FBF_EXPLICITANGLE)
		Goto FireFinishOpp
	FireLastReloadOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("Shell",2,"ReloadOpp")
		goto WIdleOpp
	Reload2Success:	
		HW54 E 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 2)
		HW54 E 0 A_Jump(256,3)
		HW54 E 0 A_TakeInventory("HLXBowIsZoomed", 1)
		HW54 E 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		HW54 EFGHIJKLMNOQRSTUVWXYZ 1
		HW55 A 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW55 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW56 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW57 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW58 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW59 A 0
		goto Reload2Ammo
	Reload2Ammo:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"Reload2Finish")
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		goto Reload2Finish
		TNT1 A 0 A_GiveInventory("HLXBowAmmoCounter",1)
		TNT1 A 0 A_TakeInventory("Shell",2,TIF_NOTAKEINFINITE)
		loop
	Reload2Finish:
		HW59 ABCDEFGHIJKLMNOPQRSTU 1
		Goto WIdle
	AltFire:
		TNT1 A 0 A_JumpIfInventory("HLXBowIsZoomed", 1, "UnZoom")
		Goto Zoom
	Zoom:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ZoomOpp")
		TNT1 A 0 A_GiveInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(4.0,ZOOM_INSTANT)
		Goto WIdle
	UnZoom:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"UnZoomOpp")
		TNT1 A 0 A_TakeInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		Goto WIdle
	ZoomOpp:
		TNT1 A 0 A_GiveInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 ACS_NamedExecuteAlways("HalfLifeSniperScope")
		TNT1 A 0 A_ZoomFactor(8.0,ZOOM_INSTANT)
		TNT1 A 0 A_PlaySound("HLM40a1/Zoom", CHAN_6)
		Goto WIdle
	UnZoomOpp:	
		TNT1 A 0 A_TakeInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		TNT1 A 0 A_PlaySound("HLM40a1/Zoom", CHAN_6)
		Goto WIdle
	Reload:
		TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,"ReloadOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"WIdle")
		TNT1 A 0 A_JumpIfInventory("Shell",2,"Reload1Success")
		goto WIdle
	Reload1Success:
		HW47 O 0 A_JumpIfInventory("HLXBowIsZoomed", 1, 2)
		HW47 O 0 A_Jump(256,3)
		HW47 O 0 A_TakeInventory("HLXBowIsZoomed", 1)
		HW47 O 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		HW47 OPQRSTUVWXYZ 1
		HW48 A 0 A_PlaySound("HLXBow/Reload", CHAN_WEAPON)
		HW48 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW49 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW50 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW51 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		HW52 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		Goto Reload1Ammo
	Reload1Ammo:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"Reload1Finish")
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		goto Reload1Finish
		TNT1 A 0 A_GiveInventory("HLXBowAmmoCounter",1)
		TNT1 A 0 A_TakeInventory("Shell",2,TIF_NOTAKEINFINITE)
		loop
	Reload1Finish:	
		HW53 ABCDEFGHIJKLMNOPQRSTUVWX 1	
		goto WIdle
	Reload3:
		HW39 VWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW40 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW41 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW42 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 A_WeaponReady(WRF_ALLOWRELOAD)
		HW43 ABCDEFGH 1 A_WeaponReady(WRF_ALLOWRELOAD)
		Goto WIdle
	ReloadOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",1,"ReloadSuccess2Opp")
		TNT1 A 0 A_JumpIfInventory("Shell",2,"ReloadSuccessOpp")
		goto WIdleOpp
	ReloadSuccessOpp:
		TNT1 A 0 A_TakeInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		TNT1 A 0 A_Playsound("HLM40a1/Reload", CHAN_7)
		OP12 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP13 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP14 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP15 A 1
		OP16 A 0
		Goto ReloadAmmoOpp
	ReloadSuccess2Opp:
		TNT1 A 0 A_TakeInventory("HLXBowIsZoomed", 1)
		TNT1 A 0 A_ZoomFactor(1.0,ZOOM_INSTANT)
		TNT1 A 0 A_Playsound("HLM40a1/Reload", CHAN_7)
		OP18 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP19 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP20 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		OP21 A 1
		Goto ReloadAmmo2Opp
	ReloadAmmoOpp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"ReloadFinishOpp")
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		goto ReloadFinishOpp
		TNT1 A 0 A_GiveInventory("HLXBowAmmoCounter",1)
		TNT1 A 0 A_TakeInventory("Shell",2,TIF_NOTAKEINFINITE)
		loop
	ReloadAmmo2Opp:
		TNT1 A 0 A_JumpIfInventory("HLXBowAmmoCounter",5,"WIdleOpp")
		TNT1 A 0 A_JumpIfInventory("Shell",2,1)
		goto WIdleOpp
		TNT1 A 0 A_GiveInventory("HLXBowAmmoCounter",1)
		TNT1 A 0 A_TakeInventory("Shell",2,TIF_NOTAKEINFINITE)
		loop
	ReloadFinishOpp:	
		OP16 A 0 A_Playsound("HLM40a1/Reload2", CHAN_7)
		OP16 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1	
		OP17 ABCDEFGHIJKLMNOPQRSTUV 1	
		goto WIdleOpp
	}
}

Actor HLXBowSpark
{
	Radius 1
	Height 1
	+NOBLOCKMAP
	+THRUACTORS
	+NOGRAVITY
	+CLIENTSIDEONLY
	RenderStyle Add
	Scale 0.5
	States
	{
		Spawn:
			TNT1 A 0
			HWX4 A 3
			stop
	}
}

Actor HLXBowBolt
{
	PROJECTILE
    Radius 2
    Height 4
    Mass 5
    Speed 55
    Damage (0)
    DamageType "HLBullet"
	+NOEXTREMEDEATH
	+BLOODSPLATTER
	+FORCERADIUSDMG
	+NODAMAGETHRUST
	+HITTRACER
	Scale 0.5
	states
	{
	Spawn:
		BOLT A 5 A_PlaySound("HLXbow/Fly", CHAN_6, 0.5, true)
		loop
	Crash:
		TNT1 A 0 A_StopSound(CHAN_6)
		TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",125),8,!XF_HURTSOURCE,0,8)
		TNT1 A 0 A_Playsound("HLXbow/Hit/Wall", CHAN_5)
		TNT1 A 0 A_Jump(128,1,2,3,4,5,6,7)		
		TNT1 AAAAAA 0 A_SpawnItemEx("HLPuffSpark",0,0,0,FRandom(1,4),0,Random(0,3),Random(-90,90))
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("HLXBowSpark", 0, 0, 0, 0, 0, 0, 0, 288)
		TNT1 A 5
		stop
	Death:
		//TNT1 A 0 A_CheckCeiling("Terminate")
		//TNT1 A 0 A_CheckFloor("Terminate")
		TNT1 A 0 A_StopSound(CHAN_6)
		TNT1 A 0 A_Playsound("HLXbow/Hit/Wall", CHAN_5)
		TNT1 A 0 A_Jump(128,1,2,3,4,5,6,7)		
		TNT1 AAAAAA 0 A_SpawnItemEx("HLPuffSpark",0,0,0,FRandom(1,4),0,Random(0,3),Random(-90,90))
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("HLXBowSpark", 0, 0, 0, 0, 0, 0, 0, 288)
		TNT1 A 0 A_SetDamageType("HLExplosive")
		BOLT A 17
		TNT1 A 0 A_Explode(120,70)
		TNT1 A 0 A_PlaySound("halflife/mp5_grenadehit",CHAN_BODY)
		TNT1 A 5 A_SpawnItemEx("HLSmallExplosionBoom",0,0,0,0,0,0,0,SXF_CLIENTSIDE)
		stop
	XDeath:
		TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",125),8,!XF_HURTSOURCE,0,8)
		TNT1 A 0 A_StopSound(CHAN_6)
		TNT1 A 0 A_Playsound("HLXbow/Hit/Body", CHAN_5)
		TNT1 A 5
		stop
	Terminate:
		TNT1 A 0 A_StopSound(CHAN_6)
		TNT1 A 0 A_Playsound("HLXbow/Hit/Wall", CHAN_5)
		TNT1 A 0 A_Jump(128,1,2,3,4,5,6,7)
		TNT1 AAAAAA 0 A_SpawnItemEx("HLPuffSpark",0,0,0,FRandom(1,4),0,Random(0,3),Random(-90,90))
		TNT1 A 0
		TNT1 A 0 A_SpawnItemEx("HLXBowSpark", 0, 0, 0, 0, 0, 0, 0, 288)
		TNT1 A 5
		stop
	}
}

Actor HLXBowBoltCoop : HLXBowBolt { Species "Player" +THRUSPECIES Speed 60 }

Actor HLM40A1Bullet : HLBullet 
{ 
	+THRUGHOST
	Damage (0) 
	States
	{
		Crash:
		Death:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::Death
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::XDeath
	}		
}
Actor HLM40A1BulletCoop : HLBulletCoop 
{ 
	DamageType "HLBullet"
	Damage (0)
	+THRUGHOST  
	+NOEXTREMEDEATH
	+NODAMAGETHRUST
	Scale 0.5 
	Speed 512
	States
	{
		SpawnLoop:
			TNT1 A 1
			loop
		Crash:
		Death:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::Death
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::XDeath			
	}
}

Actor HLM40A1Puff : HLBulletPuff 
{ 
	+NODAMAGETHRUST 
	+NOEXTREMEDEATH 
	+PUFFGETSOWNER
	States
	{
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::Spawn	
	}		
}
Actor HLM40A1PuffCoop : HLBulletPuffCoop { 
	+NODAMAGETHRUST 
	+NOEXTREMEDEATH 
	+PUFFGETSOWNER
	States
	{
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			Goto Super::Spawn	
	}		
}
Actor HLM40A1PuffZoomed : HLBulletPuff { 
	+NODAMAGETHRUST 
	+NOEXTREMEDEATH 
	+FORCERADIUSDMG
	+PUFFONACTORS
	+PUFFGETSOWNER
	+HITTRACER
	States
	{
		Melee:
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			TNT1 A 1
			Stop
	}		
}
Actor HLM40A1PuffZoomedCoop : HLBulletPuffCoop { 
	+NODAMAGETHRUST 
	+NOEXTREMEDEATH 
	+FORCERADIUSDMG
	+PUFFGETSOWNER
	+HITTRACER
	States
	{
		Melee:
		XDeath:
			TNT1 A 0 A_Explode(CallACS("HalfLife_BulletDamage",150),8,!XF_HURTSOURCE,0,8)
			TNT1 A 1
			Stop
	}		
}

Actor HLOPHasBarnacleLongJump : HLBoolean { Inventory.InterHubAmount 1 }
Actor HLOPBarnacleReleaseTether : HLBoolean {}
Actor HLOPBarnacleKillTether : HLBoolean {}
Actor HLOPBarnacleLatchedTether : HLBoolean {}

Actor HLOPBarnacle : HLWeapon
{
	Weapon.Slotnumber 0
	Weapon.SelectionOrder 1900
	Weapon.BobRangeX 0
	Weapon.BobRangeY 0.75
	Weapon.BobSpeed 1.4
	Weapon.BobStyle Alpha 
	Inventory.Pickupmessage "Picked up the barnacle."
	Inventory.Pickupsound "halflife/weaponpickup"
	Tag "Barnacle"
	Inventory.RestrictedTo "HalfLifePlayer"
	States
	{
		Spawn:
			HL00 A 1
			Stop
		Select:
			TNT1 A 0 A_TakeInventory("freeman_fistselected",1)	
			TNT1 A 0 A_TakeInventory("freeman_pistolselected",1)	
			TNT1 A 0 A_TakeInventory("freeman_slot1selected",1)	
			TNT1 A 0 A_TakeInventory("freeman_slot2selected",1)	
			TNT1 A 0 A_TakeInventory("freeman_slot3selected",1)	
			TNT1 A 0 A_TakeInventory("freeman_slot4selected",1)
			TNT1 A 0 A_TakeInventory("freeman_slot6selected",1)
			TNT1 A 0 A_TakeInventory("freeman_slot7selected",1)		
			TNT1 A 0 A_TakeInventory("freeman_slot5selected",1)
			TNT1 A 0 A_TakeInventory("freeman_uniqueselected",1)	
			TNT1 A 0 A_TakeInventory("freeman_unique2selected",1)	
			TNT1 A 0 A_GiveInventory("freeman_unique3selected",1)	
			Goto SelectLoop
		SelectLoop:	
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
			TNT1 A 1 A_Raise
			loop
		Deselect:
			HL12 A 0 A_TakeInventory("HLOPBarnacleReleaseTether",1)
			HL12 A 0 A_TakeInventory("HLOPBarnacleLatchedTether",1)
			HL12 A 0 A_TakeInventory("HLOPBarnacleKillTether",1)
			TNT1 A 0 A_TakeInventory("freeman_unique3selected",1)
			Goto DeselectLoop
		DeselectLoop:		
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
			TNT1 A 1 A_Lower
			loop
		Ready:
			TNT1 A 0 A_JumpIfInventory("HalfLifeOpposingForce",1,1)
			Goto Deselect
			TNT1 A 0 A_PlaySound("halflife/weaponselect",CHAN_WEAPON)
			HL22 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
			HL23 A 1 A_WeaponReady(WRF_NOBOB|WRF_NOFIRE)
			goto WIdle
		WIdle:
			HL00 A 0 A_Jump(40,"WIdle2")
			HL00 A 0 A_Jump(128,"WIdle3")	
			HL00 A 0 A_TakeInventory("HLOPBarnacleKillTether",1)
			HL00 A 0 A_TakeInventory("HLOPBarnacleReleaseTether",1)
			HL00 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL01 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL02 ABCDEFGHIJKL 2 A_WeaponReady
			goto WIdle
		WIdle2:
			HL03 A 0 A_PlaySound("halflife/barnacle/cough",CHAN_WEAPON)
			HL03 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL04 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL05 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL06 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL07 ABCDEFGHIJKLMNOPQRSTUVW 2 A_WeaponReady
			goto WIdle	
		WIdle3:
			HL15 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL16 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL17 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL18 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL19 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1A "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1B "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1C "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1D "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1E "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 2 A_WeaponReady
			HL1F ABCDEFGHIJK 2 A_WeaponReady
			goto WIdle	
		Fire:
			HL12 A 0 A_TakeInventory("HLOPBarnacleReleaseTether",1)
			HL12 A 0 A_TakeInventory("HLOPBarnacleLatchedTether",1)
			HL12 A 0 A_TakeInventory("HLOPBarnacleKillTether",1)
			HL12 A 0 A_PlaySound("halflife/barnacle/fire",CHAN_WEAPON)
			HL12 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 1
			HL13 A 1 A_FireCustomMissile("HLOPBarnacleTether",0,0,8)
			HL14 A 0 A_Refire("Pull")
			Goto FireRelease
		Pull:
			HL14 A 0 A_PlaySound("halflife/barnacle/pull",CHAN_WEAPON,1.0,1)
			HL14 ABC 2
			HL14 D 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 D 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 D 0 A_Refire(1)	Goto FireRelease
			HL14 DEF 2
			HL14 G 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 G 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 G 0 A_Refire(1)	Goto FireRelease
			HL14 GHI 2
			HL14 J 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 J 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 J 0 A_Refire(1)	Goto FireRelease
			HL14 JKL 2
			HL14 M 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 M 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 M 0 A_Refire(1)	Goto FireRelease
			HL14 MNO 2
			HL14 P 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 P 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 P 0 A_Refire(1)	Goto FireRelease
			HL14 PQ 2
			HL14 A 0 A_JumpIfInventory("HLOPBarnacleLatchedTether",1,"PullLatched")		HL14 A 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL14 A 0 A_Refire("Pull")
			Goto FireRelease
		PullLatched:
			HL12 A 0 A_PlaySound("halflife/barnacle/pull",CHAN_WEAPON,1.0,1)
			HL12 ABC 1
			HL12 D 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 D 0 A_Refire(1)	Goto FireRelease
			HL12 DEF 1
			HL12 G 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 G 0 A_Refire(1)	Goto FireRelease
			HL12 GHI 1
			HL12 J 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 J 0 A_Refire(1)	Goto FireRelease
			HL12 JKL 1
			HL12 M 0 A_CustomPunch(100,0,0,"HLOPBarnacleBite",64)	HL12 M 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 M 0 A_Refire(1)	Goto FireRelease
			HL12 MNO 1
			HL12 P 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 P 0 A_Refire(1)	Goto FireRelease
			HL12 PQR 1
			HL12 S 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 S 0 A_Refire(1)	Goto FireRelease
			HL12 STU 1
			HL12 V 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 V 0 A_Refire(1)	Goto FireRelease
			HL12 VWX 1
			HL12 Y 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 Y 0 A_Refire(1)	Goto FireRelease
			HL12 "YZ[" 1
			HL12 "\" 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")	HL12 "\" 0 A_Refire(1)	Goto FireRelease
			HL12 "\]" 1
			HL12 "\" 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")	HL13 A 0 A_Refire(1)	Goto FireRelease
			HL13 AB 1
			HL13 A 0 A_JumpIfInventory("HLOPBarnacleReleaseTether",1,"FireRelease")		HL12 A 0 A_Refire("PullLatched")
		FireRelease:
			HL10 A 0 A_TakeInventory("HLOPBarnacleReleaseTether",1)
			HL10 A 0 A_TakeInventory("HLOPBarnacleLatchedTether",1)
			HL10 A 0 A_GiveInventory("HLOPBarnacleKillTether",1)
			HL10 A 0 A_StopSound(CHAN_WEAPON)
			HL10 A 0 A_PlaySound("halflife/barnacle/release",CHAN_WEAPON)
			HL10 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]" 1
			HL11 A 1
			Goto WIdle
		General:
			HL00 A 1 A_RailWait HL01 A 1 A_RailWait HL02 A 1 A_RailWait HL03 A 1 A_RailWait HL04 A 1 A_RailWait
			HL05 A 1 A_RailWait	HL06 A 1 A_RailWait	HL07 A 1 A_RailWait	HL08 A 1 A_RailWait	HL09 A 1 A_RailWait
			HL0A A 1 A_RailWait	HL0B A 1 A_RailWait	HL0C A 1 A_RailWait	HL0D A 1 A_RailWait	HL0E A 1 A_RailWait
			HL0F A 1 A_RailWait	HL10 A 1 A_RailWait	HL11 A 1 A_RailWait	HL12 A 1 A_RailWait	HL13 A 1 A_RailWait
			HL14 A 1 A_RailWait	HL15 A 1 A_RailWait	HL16 A 1 A_RailWait	HL17 A 1 A_RailWait	HL18 A 1 A_RailWait
			HL19 A 1 A_RailWait	HL1A A 1 A_RailWait	HL1B A 1 A_RailWait	HL1C A 1 A_RailWait	HL1D A 1 A_RailWait
			HL1E A 1 A_RailWait	HL1F A 1 A_RailWait	HL20 A 1 A_RailWait	HL21 A 1 A_RailWait	HL22 A 1 A_RailWait
			Stop
	}
}

Actor HLOPBarnacleTether
{
	Height 16
	Radius 8
	Speed 8
	Damage (0)
	Projectile
	+HITTRACER
	+SKYEXPLODE
	var int user_maxrange;
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_JumpIfTargetInLOS(1)
			Goto Death
			TNT1 A 0 A_JumpIf(user_maxrange > 128,"Death")
			TNT1 A 0 A_SetUserVar("user_maxrange",user_maxrange+1)
			TNT1 A 2 ACS_NamedExecuteWithResult("HLBarnacleTether", 1)
			Loop
		Death:
			TNT1 A 0 ACS_NamedExecuteWithResult("HLBarnacleTether")
			Goto Limbo
		XDeath:
			TNT1 A 0 A_GiveToTarget("HLOPBarnacleLatchedTether",1)
			TNT1 A 0 ACS_NamedExecuteWithResult("HLBarnacleTether", 0, 1)
			Goto Limbo
		Limbo:
			TNT1 A 0 A_JumpIfTargetInLOS(1)
			Goto Remove		
			TNT1 A 2
			Loop
		Remove:
			TNT1 A 2
			Stop
	}
}

Actor HLOPBarnacleTongue
{
	Height 8
	Radius 4
	+NOGRAVITY
	States
	{
		Spawn:
			HL00 A 2
			Loop
	}
}

Actor HLOPBarnacleTongue2 : HLOPBarnacleTongue {}
Actor HLOPBarnacleTongue3 : HLOPBarnacleTongue {}
Actor HLOPBarnacleTongue4 : HLOPBarnacleTongue {}

Actor HLOPBarnacleTongueAttached
{
	Height 8
	Radius 4
	+NOGRAVITY
	States
	{
		Spawn:
			HL00 A 2
			Loop
	}
}

Actor HLOPBarnacleBite
{
	+NODAMAGETHRUST
	+EXTREMEDEATH
	+PUFFONACTORS
	DamageType "HLExplosive"
	SeeSound "halflife/barnacle/impact"
	States
	{
		Spawn:
			TNT1 A 2
			Stop
	}
}

Actor HLOPBarnacleBlockRemover : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_ChangeFlag("NOBLOCKMONST",1)
			Stop
	}
}

Actor HLOPBarnacleBlockAdder : Trigger
{
	States
	{
		Pickup:
			TNT1 A 0 A_ChangeFlag("NOBLOCKMONST",0)
			Stop
	}
}