Actor "RottKnife" : Weapon
{
  Weapon.SelectionOrder 3700
  Weapon.Kickback 100
  Weapon.SlotNumber 0
  +WEAPON.MELEEWEAPON
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE  
  +WEAPON.WIMPY_WEAPON  
  Tag "Knife"
  Weapon.UpSound "gen/wepswitch"  
  Inventory.PickupSound "gen/pickup"  
  Obituary "%o was stabbed by %k's knife."
  Inventory.RestrictedTo "IPFreeley"   
  States
  {
  Ready:
	 TNT1 A 0 A_TakeInventory("UsingFirearm", 1)  
     TNT1 A 1 A_WeaponReady
     Goto Ready+1
  Deselect: 
     TNT1 A 1 A_Lower 
     Loop 
  Select:
     TNT1 A 1 A_Raise 
     Loop 
  Fire:
     RTKF ABCDE 2
     RTKF F 0 A_JumpIfInventory("CoopModeOn",1,2)
     RTKF F 2 A_CustomPunch(13,1,0,"Nothing2")
     Goto FireEnd
     RTKF F 2 A_CustomPunch(13,1,0,"Nothing2Coop")
     Goto FireEnd
  FireEnd:
     RTKF GH 2
     TNT1 A 2
	 TNT1 AA 2 A_Refire
     Goto Ready	
  }
}

actor Nothing2
{
	Obituary "%k stabbed %o to death."
    ActiveSound "rottknife/swing"
	States
	{
		spawn:
		crash:
			TNT1 A 1 A_PlaySound("rottknife/fail")
			STOP
	}
}

actor Nothing2Coop : Nothing2 { Species "Player" +THRUSPECIES +MTHRUSPECIES }