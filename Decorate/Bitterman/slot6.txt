Actor Q2HyperBlaster : Q2Weapon
{
	Tag "HyperBlaster"
	Inventory.PickupMessage "Hyper Blaster"
	Weapon.AmmoGive 20
	Weapon.AmmoType Cell
	Weapon.AmmoUse 1
	Weapon.SlotNumber 6
	Inventory.RestrictedTo "Bitterman"		
	States
	{
	Spawn:
		Q2WP A -1
		Stop
	Select:
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory(Q2WeaponIndex)
		TNT1 A 0 A_GiveInventory(Q2WeaponIndex,6)
		HYP0 ABCDEF 3
		Goto Ready+1
	Deselect:
		TNT1 A 0 A_StopSound(CHAN_5)
		HYP2 A 2
		HYP0 GHIJ 3
		Goto InstantDeselect
	InstantDeselect:
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		TNT1 A 1 A_Lower
		Wait
	Ready:
		TNT1 A 0 A_Jump(32,2)
		HYP2 A 1 A_WeaponReady
		Loop
		HYP2 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[^]" 5 A_WeaponReady
		Goto Ready+1
	Fire:
		TNT1 A 0 A_JumpIfInventory("DMModeOn", 1, "DMFire")
		TNT1 A 0 A_JumpIfInventory("CoopModeOn", 1, "CoopFire")
		HYP1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentFire")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.75)
		TNT1 A 0 A_ReFire(1)
		Goto Fire+9
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto Fire+13
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto Fire+17
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto Fire+21
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto Fire+25
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto Fire+29
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto FireStop
	SilentFire:
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.33,0,3)
		TNT1 A 0 A_ReFire(1)
		Goto SilentFire+5
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto SilentFire+9
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto SilentFire+13
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto SilentFire+17
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto SilentFire+21
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto SilentFire+25
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto SilentFireStop
	CoopFire:
		HYP1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentCoopFire")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.75)
		TNT1 A 0 A_ReFire(1)
		Goto CoopFire+6
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto CoopFire+10
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto CoopFire+14
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto CoopFire+18
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto CoopFire+22
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto CoopFire+26
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto FireStop
	SilentCoopFire:
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.33,0,3)
		TNT1 A 0 A_ReFire(1)
		Goto SilentCoopFire+5
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto SilentCoopFire+9
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto SilentCoopFire+13
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto SilentCoopFire+17
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto SilentCoopFire+21
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto SilentCoopFire+25
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectile_Coop,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto SilentFireStop
	DMFire:
		HYP1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentCoopFire")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.75)
		TNT1 A 0 A_ReFire(1)
		Goto CoopFire+6
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto CoopFire+10
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto CoopFire+14
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto CoopFire+18
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto CoopFire+22
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto CoopFire+26
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto FireStop
	SilentDMFire:
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterLoop",CHAN_5,0.33,0,3)
		TNT1 A 0 A_ReFire(1)
		Goto SilentCoopFire+5
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,5)
		HYP1 A 4
		HYP1 B 0 A_ReFire(1)
		Goto SilentCoopFire+9
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,2.5)
		HYP1 B 3
		HYP1 C 0 A_ReFire(1)
		Goto SilentCoopFire+13
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,0)
		HYP1 C 4
		HYP1 D 0 A_ReFire(1)
		Goto SilentCoopFire+17
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,-2.5)
		HYP1 D 3
		HYP1 E 0 A_ReFire(1)
		Goto SilentCoopFire+21
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,0)
		HYP1 E 4
		HYP1 F 0 A_ReFire(1)
		Goto SilentCoopFire+25
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_FireCustomMissile(HyperBlasterProjectileDM,0,1,6,2.5)
		HYP1 F 3
		HYP1 A 0 A_ReFire
//		HYP1 ABCDEF 3 A_ReFire
		Goto SilentFireStop		
	FireStop:
		HYP1 G 0 A_JumpIfInventory(PowerSilencer,1,"SilentFireStop")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterStop",CHAN_5)
		HYP1 GHIJKLMNO 4
		Goto Ready
	SilentFireStop:
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterStop",CHAN_5,0.5,0,3)
		HYP1 GHIJKLMNO 4
		Goto Ready
	Flash:
		TNT1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentFlash")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterFire",CHAN_WEAPON)
		Stop
	SilentFlash:
		TNT1 A 0 A_PlaySound("Q2Weapons/HyperBlasterFire",CHAN_WEAPON,0.25,0,3)
		Stop
	}
}
Actor HyperBlasterProjectile : BlasterProjectile
{
	Speed 40
	Damage (25)
	MissileType ""
	DamageType "BittermanDamage"
}
Actor HyperBlasterProjectileDM : HyperBlasterProjectile { Damage (18)  }
Actor HyperBlasterProjectile_Coop : HyperBlasterProjectile { Species "Player" +THRUSPECIES +MTHRUSPECIES }