Actor Q2SuperShotgun : Q2Weapon
{
	Tag "Super Shotgun"
	Inventory.PickupMessage "Super Shotgun"
	Weapon.AmmoType Shell
	Weapon.SlotNumber 3
	Weapon.AmmoGive 12
	Weapon.AmmoUse 2
	Inventory.RestrictedTo "Bitterman"
	States
	{
	Spawn:
		Q2WP A -1
		Stop
	Select:
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory(Q2WeaponIndex)
		TNT1 A 0 A_GiveInventory(Q2WeaponIndex,3)
		SSG0 ABCDEFG 4
		Goto Ready+1
	Deselect:
		SSG1 A 2
		SSG0 STUV 3
		Goto InstantDeselect
	InstantDeselect:
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
		TNT1 A 1 A_Lower
		Wait
	Ready:
		TNT1 A 0 A_Jump(6,2)
		SSG1 A 1 A_WeaponReady
		Loop
		SSG1 "ABCDEFGHIJKLMNOPQRSTUVWXYZ[^]" 5 A_WeaponReady
		SSG2 ABCDEFGHIJK 5 A_WeaponReady
		Goto Ready+1
	Fire:
		TNT1 A 0 A_JumpIfInventory("CoopModeOn", 1, "CoopFire")
		TNT1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentFire")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/SuperShotgunFire",CHAN_WEAPON)
		TNT1 A 0 A_FireCustomMissile(Q2WeaponFlash,0,0)
		TNT1 A 0 A_FireBullets(18,10,20,8,"Q2BulletPuff",FBF_NORANDOM|FBF_USEAMMO)
		TNT1 A 0 A_GunFlash
		SSG0 HIJKLMNO 3
		SSG0 PQR 4
		Goto Ready+1
	SilentFire:
		TNT1 A 0 A_PlaySound("Q2Weapons/SuperShotgunFire",CHAN_WEAPON,0.25,0,3)
		TNT1 A 0 A_FireCustomMissile(Q2WeaponFlash,0,0)
		TNT1 A 0 A_FireBullets(18,10,20,8,"Q2BulletPuff",FBF_NORANDOM|FBF_USEAMMO)
		TNT1 A 0 A_GunFlash
		SSG0 HIJKLMNO 3
		SSG0 PQR 4
		Goto Ready+1
	CoopFire:
		TNT1 A 0 A_JumpIfInventory(PowerSilencer,1,"SilentCoopFire")
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_PlaySound("Q2Weapons/SuperShotgunFire",CHAN_WEAPON)
		TNT1 A 0 A_FireCustomMissile(Q2WeaponFlash,0,0)
		TNT1 A 0 A_FireCustomMissile("Q2SuperShotGunBullet", frandom(-18.00, 18.00), 1, 0, 0, 0, frandom(-10.00, 10.00))
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_FireCustomMissile("Q2SuperShotGunBullet", frandom(-18.00, 18.00), 0, 0, 0, 0, frandom(-10.00, 10.00))
		TNT1 A 0 A_GunFlash
		SSG0 HIJKLMNO 3
		SSG0 PQR 4
		Goto Ready+1
	SilentCoopFire:
		TNT1 A 0 A_PlaySound("Q2Weapons/SuperShotgunFire",CHAN_WEAPON,0.25,0,3)
		TNT1 A 0 A_FireCustomMissile(Q2WeaponFlash,0,0)
		TNT1 A 0 A_FireCustomMissile("Q2SuperShotGunBullet", frandom(-18.00, 18.00), 1, 0, 0, 0, frandom(-10.00, 10.00))
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_FireCustomMissile("Q2SuperShotGunBullet", frandom(-18.00, 18.00), 0, 0, 0, 0, frandom(-10.00, 10.00))
		TNT1 A 0 A_GunFlash
		SSG0 HIJKLMNO 3
		SSG0 PQR 4
		Goto Ready+1
	Flash:
		TNT1 A 1 A_Light2
		TNT1 A 0 A_SetPitch(Pitch-5.0)
		TNT1 AAAAA 2 A_SetPitch(Pitch+0.5)
		TNT1 A 0 A_Light1
		TNT1 AAAAA 2 A_SetPitch(Pitch+0.5)
		Goto LightDone
	}
}

Actor Q2SuperShotGunBullet : Q2BulletCoop { Damage (8) }